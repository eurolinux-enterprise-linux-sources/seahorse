/* pkcs11-certificate.c generated by valac 0.22.1, the Vala compiler
 * generated from pkcs11-certificate.vala, do not modify */

/*
 * Seahorse
 *
 * Copyright (C) 2008 Stefan Walter
 * Copyright (C) 2011 Collabora Ltd.
 * Copyright (C) 2013 Red Hat, Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
 * 02111-1307, USA.
 */

#include <glib.h>
#include <glib-object.h>
#include "seahorse-pkcs11.h"
#include <gck/gck.h>
#include <gio/gio.h>
#include "seahorse-common.h"
#include <gtk/gtk.h>
#include <gcr/gcr-base.h>
#include <p11-kit/pkcs11.h>
#include <glib/gi18n-lib.h>

#define __vala_GckAttributes_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckAttributes_free (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
#define __vala_GckBuilder_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckBuilder_free (var), NULL)))
#define _g_free0(var) ((var == NULL) ? NULL : (var = (g_free (var), NULL)))

struct _SeahorsePkcs11CertificatePrivate {
	GWeakRef _token;
	GckAttributes* _attributes;
	GckAttribute* _der;
	GWeakRef _private_key;
	GIcon* _icon;
	SeahorseFlags _flags;
};


static gpointer seahorse_pkcs11_certificate_parent_class = NULL;
static guint8* seahorse_pkcs11_certificate_EMPTY;
static gint seahorse_pkcs11_certificate_EMPTY_length1;
static guint8* seahorse_pkcs11_certificate_EMPTY = NULL;
static gint seahorse_pkcs11_certificate_EMPTY_length1 = 0;
static gint _seahorse_pkcs11_certificate_EMPTY_size_ = 0;
static GcrComparableIface* seahorse_pkcs11_certificate_gcr_comparable_parent_iface = NULL;
static GcrCertificateIface* seahorse_pkcs11_certificate_gcr_certificate_parent_iface = NULL;
static GckObjectCacheIface* seahorse_pkcs11_certificate_gck_object_cache_parent_iface = NULL;
static SeahorseDeletableIface* seahorse_pkcs11_certificate_seahorse_deletable_parent_iface = NULL;
static SeahorseExportableIface* seahorse_pkcs11_certificate_seahorse_exportable_parent_iface = NULL;
static SeahorseViewableIface* seahorse_pkcs11_certificate_seahorse_viewable_parent_iface = NULL;

#define SEAHORSE_PKCS11_CERTIFICATE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11CertificatePrivate))
enum  {
	SEAHORSE_PKCS11_CERTIFICATE_DUMMY_PROPERTY,
	SEAHORSE_PKCS11_CERTIFICATE_PLACE,
	SEAHORSE_PKCS11_CERTIFICATE_OBJECT_FLAGS,
	SEAHORSE_PKCS11_CERTIFICATE_ACTIONS,
	SEAHORSE_PKCS11_CERTIFICATE_PARTNER,
	SEAHORSE_PKCS11_CERTIFICATE_ATTRIBUTES,
	SEAHORSE_PKCS11_CERTIFICATE_DELETABLE,
	SEAHORSE_PKCS11_CERTIFICATE_EXPORTABLE,
	SEAHORSE_PKCS11_CERTIFICATE_ICON,
	SEAHORSE_PKCS11_CERTIFICATE_DESCRIPTION,
	SEAHORSE_PKCS11_CERTIFICATE_LABEL,
	SEAHORSE_PKCS11_CERTIFICATE_SUBJECT,
	SEAHORSE_PKCS11_CERTIFICATE_MARKUP,
	SEAHORSE_PKCS11_CERTIFICATE_ISSUER,
	SEAHORSE_PKCS11_CERTIFICATE_EXPIRY
};
static void _vala_GckAttributes_free (GckAttributes* self);
static void seahorse_pkcs11_certificate_real_dispose (GObject* base);
static GtkWindow* seahorse_pkcs11_certificate_real_create_viewer (SeahorseViewable* base, GtkWindow* parent);
static SeahorseDeleter* seahorse_pkcs11_certificate_real_create_deleter (SeahorseDeletable* base);
static GList* seahorse_pkcs11_certificate_real_create_exporters (SeahorseExportable* base, SeahorseExporterType type);
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
static void seahorse_pkcs11_certificate_real_fill (GckObjectCache* base, GckAttributes* attributes);
static void _vala_GckBuilder_free (GckBuilder* self);
static guint8* seahorse_pkcs11_certificate_real_get_der_data (GcrCertificate* base, int* result_length1);
static gint seahorse_pkcs11_certificate_real_compare (GcrComparable* base, GcrComparable* other);
static SeahorseFlags seahorse_pkcs11_certificate_calc_is_personal_and_trusted (SeahorsePkcs11Certificate* self);
static void seahorse_pkcs11_certificate_ensure_flags (SeahorsePkcs11Certificate* self);
static GckAttributes* _vala_GckAttributes_copy (GckAttributes* self);
static GObject * seahorse_pkcs11_certificate_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
static void _seahorse_pkcs11_certificate___lambda9_ (SeahorsePkcs11Certificate* self, GParamSpec* pspec);
static void __seahorse_pkcs11_certificate___lambda9__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static void seahorse_pkcs11_certificate_finalize (GObject* obj);
static void _vala_seahorse_pkcs11_certificate_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_seahorse_pkcs11_certificate_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


static void _vala_GckAttributes_free (GckAttributes* self) {
#line 123 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_boxed_free (gck_attributes_get_type (), self);
#line 111 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_real_dispose (GObject* base) {
	SeahorsePkcs11Certificate * self;
#line 153 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 154 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_set_partner (self, NULL);
#line 155 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	G_OBJECT_CLASS (seahorse_pkcs11_certificate_parent_class)->dispose ((GObject*) G_TYPE_CHECK_INSTANCE_CAST (self, gck_object_get_type (), GckObject));
#line 123 "pkcs11-certificate.c"
}


static GtkWindow* seahorse_pkcs11_certificate_real_create_viewer (SeahorseViewable* base, GtkWindow* parent) {
	SeahorsePkcs11Certificate * self;
	GtkWindow* result = NULL;
	SeahorsePkcs11Properties* viewer = NULL;
	GtkWindow* _tmp0_ = NULL;
	SeahorsePkcs11Properties* _tmp1_ = NULL;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = parent;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = seahorse_pkcs11_properties_new ((GckObject*) self, _tmp0_);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_ref_sink (_tmp1_);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	viewer = _tmp1_;
#line 160 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	gtk_widget_show ((GtkWidget*) viewer);
#line 161 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = (GtkWindow*) viewer;
#line 161 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 149 "pkcs11-certificate.c"
}


static SeahorseDeleter* seahorse_pkcs11_certificate_real_create_deleter (SeahorseDeletable* base) {
	SeahorsePkcs11Certificate * self;
	SeahorseDeleter* result = NULL;
	SeahorseDeleter* deleter = NULL;
	SeahorsePkcs11PrivateKey* key = NULL;
	SeahorsePkcs11PrivateKey* _tmp0_ = NULL;
	SeahorsePkcs11PrivateKey* _tmp1_ = NULL;
	SeahorsePkcs11PrivateKey* _tmp2_ = NULL;
#line 164 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = seahorse_pkcs11_certificate_get_partner (self);
#line 167 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = _tmp0_;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	key = _tmp1_;
#line 168 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp2_ = key;
#line 168 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp2_ == NULL) {
#line 173 "pkcs11-certificate.c"
		SeahorsePkcs11Deleter* _tmp3_ = NULL;
#line 169 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = seahorse_pkcs11_deleter_new ((GckObject*) self);
#line 169 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (deleter);
#line 169 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		deleter = (SeahorseDeleter*) _tmp3_;
#line 181 "pkcs11-certificate.c"
	} else {
		SeahorsePkcs11PrivateKey* _tmp4_ = NULL;
		SeahorseDeleter* _tmp5_ = NULL;
		SeahorseDeleter* _tmp6_ = NULL;
		gboolean _tmp7_ = FALSE;
#line 171 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp4_ = key;
#line 171 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp5_ = seahorse_deletable_create_deleter ((SeahorseDeletable*) _tmp4_);
#line 171 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (deleter);
#line 171 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		deleter = _tmp5_;
#line 172 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp6_ = deleter;
#line 172 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp7_ = seahorse_deleter_add_object (_tmp6_, (GObject*) self);
#line 172 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		if (!_tmp7_) {
#line 173 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			g_return_val_if_reached (NULL);
#line 203 "pkcs11-certificate.c"
		}
	}
#line 176 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = deleter;
#line 176 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (key);
#line 176 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 212 "pkcs11-certificate.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 184 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return self ? g_object_ref (self) : NULL;
#line 219 "pkcs11-certificate.c"
}


static void _g_object_unref0_ (gpointer var) {
#line 179 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 226 "pkcs11-certificate.c"
}


static void _g_list_free__g_object_unref0_ (GList* self) {
#line 179 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
#line 179 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_list_free (self);
#line 235 "pkcs11-certificate.c"
}


static GList* seahorse_pkcs11_certificate_real_create_exporters (SeahorseExportable* base, SeahorseExporterType type) {
	SeahorsePkcs11Certificate * self;
	GList* result = NULL;
	GList* exporters = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
#line 179 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 180 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	exporters = NULL;
#line 182 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = seahorse_exportable_get_exportable ((SeahorseExportable*) self);
#line 182 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = _tmp0_;
#line 182 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp1_) {
#line 255 "pkcs11-certificate.c"
		SeahorseCertificateDerExporter* exporter = NULL;
		SeahorseCertificateDerExporter* _tmp2_ = NULL;
		SeahorseCertificateDerExporter* _tmp3_ = NULL;
		SeahorseExporter* _tmp4_ = NULL;
#line 183 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp2_ = seahorse_certificate_der_exporter_new ((GcrCertificate*) self);
#line 183 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		exporter = _tmp2_;
#line 184 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = exporter;
#line 184 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp4_ = _g_object_ref0 ((SeahorseExporter*) _tmp3_);
#line 184 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		exporters = g_list_append (exporters, _tmp4_);
#line 182 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (exporter);
#line 272 "pkcs11-certificate.c"
	}
#line 187 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = exporters;
#line 187 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 278 "pkcs11-certificate.c"
}


static void _vala_GckBuilder_free (GckBuilder* self) {
#line 190 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_boxed_free (gck_builder_get_type (), self);
#line 285 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_real_fill (GckObjectCache* base, GckAttributes* attributes) {
	SeahorsePkcs11Certificate * self;
	GckBuilder* builder = NULL;
	GckBuilder* _tmp0_ = NULL;
	GckAttributes* _tmp1_ = NULL;
	GckBuilder* _tmp4_ = NULL;
	GckAttributes* _tmp5_ = NULL;
	GckBuilder* _tmp6_ = NULL;
	GckAttributes* _tmp7_ = NULL;
#line 190 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 190 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_if_fail (attributes != NULL);
#line 191 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = gck_builder_new (GCK_BUILDER_NONE);
#line 191 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	builder = _tmp0_;
#line 193 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = self->priv->_attributes;
#line 193 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp1_ != NULL) {
#line 310 "pkcs11-certificate.c"
		GckBuilder* _tmp2_ = NULL;
		GckAttributes* _tmp3_ = NULL;
#line 194 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp2_ = builder;
#line 194 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = self->priv->_attributes;
#line 194 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		gck_builder_add_all (_tmp2_, _tmp3_);
#line 319 "pkcs11-certificate.c"
	}
#line 195 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp4_ = builder;
#line 195 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp5_ = attributes;
#line 195 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	gck_builder_set_all (_tmp4_, _tmp5_);
#line 196 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp6_ = builder;
#line 196 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp7_ = gck_builder_steal (_tmp6_);
#line 196 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	__vala_GckAttributes_free0 (self->priv->_attributes);
#line 196 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self->priv->_attributes = _tmp7_;
#line 197 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "attributes");
#line 190 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	__vala_GckBuilder_free0 (builder);
#line 339 "pkcs11-certificate.c"
}


static guint8* seahorse_pkcs11_certificate_real_get_der_data (GcrCertificate* base, int* result_length1) {
	SeahorsePkcs11Certificate * self;
	guint8* result = NULL;
	GckAttribute* _tmp0_ = NULL;
	GckAttribute* _tmp3_ = NULL;
	gsize _tmp4_;
	guint8* _tmp5_ = NULL;
	guint8* _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
#line 200 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 201 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = self->priv->_der;
#line 201 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp0_ == NULL) {
#line 358 "pkcs11-certificate.c"
		guint8* _tmp1_ = NULL;
		gint _tmp1__length1 = 0;
		guint8* _tmp2_ = NULL;
		gint _tmp2__length1 = 0;
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp1_ = seahorse_pkcs11_certificate_EMPTY;
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp1__length1 = seahorse_pkcs11_certificate_EMPTY_length1;
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp2_ = _tmp1_;
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp2__length1 = _tmp1__length1;
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		if (result_length1) {
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			*result_length1 = _tmp2__length1;
#line 375 "pkcs11-certificate.c"
		}
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = _tmp2_;
#line 202 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 381 "pkcs11-certificate.c"
	}
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp3_ = self->priv->_der;
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp5_ = gck_attribute_get_data (_tmp3_, &_tmp4_);
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp6_ = _tmp5_;
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp6__length1 = _tmp4_;
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (result_length1) {
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		*result_length1 = _tmp6__length1;
#line 395 "pkcs11-certificate.c"
	}
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp6_;
#line 203 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 401 "pkcs11-certificate.c"
}


static gint seahorse_pkcs11_certificate_real_compare (GcrComparable* base, GcrComparable* other) {
	SeahorsePkcs11Certificate * self;
	gint result = 0;
	GcrComparable* _tmp0_ = NULL;
	guint8* data1 = NULL;
	gsize _tmp1_;
	guint8* _tmp2_ = NULL;
	gint data1_length1 = 0;
	gint _data1_size_ = 0;
	guint8* data2 = NULL;
	GcrComparable* _tmp3_ = NULL;
	gsize _tmp4_;
	guint8* _tmp5_ = NULL;
	gint data2_length1 = 0;
	gint _data2_size_ = 0;
	guint8* _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	guint8* _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	gint _tmp8_ = 0;
#line 206 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 207 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = other;
#line 207 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp0_ == NULL) {
#line 208 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = -1;
#line 208 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 435 "pkcs11-certificate.c"
	}
#line 209 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp2_ = gcr_certificate_get_der_data ((GcrCertificate*) self, &_tmp1_);
#line 209 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	data1 = _tmp2_;
#line 209 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	data1_length1 = _tmp1_;
#line 209 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_data1_size_ = data1_length1;
#line 210 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp3_ = other;
#line 210 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp5_ = gcr_certificate_get_der_data (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, gcr_certificate_get_type (), GcrCertificate), &_tmp4_);
#line 210 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	data2 = _tmp5_;
#line 210 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	data2_length1 = _tmp4_;
#line 210 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_data2_size_ = data2_length1;
#line 211 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp6_ = data1;
#line 211 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp6__length1 = data1_length1;
#line 211 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp7_ = data2;
#line 211 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp7__length1 = data2_length1;
#line 211 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp8_ = gcr_comparable_memcmp (_tmp6_, (gsize) _tmp6__length1, _tmp7_, (gsize) _tmp7__length1);
#line 211 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp8_;
#line 211 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 469 "pkcs11-certificate.c"
}


static SeahorseFlags seahorse_pkcs11_certificate_calc_is_personal_and_trusted (SeahorsePkcs11Certificate* self) {
	SeahorseFlags result = 0;
	gulong category = 0UL;
	gboolean is_ca = FALSE;
	GObject* _tmp0_ = NULL;
	GObject* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	GckAttributes* _tmp4_ = NULL;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp11_ = FALSE;
	gboolean _tmp12_ = FALSE;
#line 214 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 215 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	category = (gulong) 0;
#line 219 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = g_weak_ref_get (&self->priv->_private_key);
#line 219 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = _tmp0_;
#line 219 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp2_ = _tmp1_ != NULL;
#line 219 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (_tmp1_);
#line 219 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp2_) {
#line 220 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = SEAHORSE_FLAG_PERSONAL | SEAHORSE_FLAG_TRUSTED;
#line 220 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 503 "pkcs11-certificate.c"
	}
#line 222 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp4_ = self->priv->_attributes;
#line 222 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp4_ != NULL) {
#line 509 "pkcs11-certificate.c"
		GckAttributes* _tmp5_ = NULL;
		gulong _tmp6_ = 0UL;
		gboolean _tmp7_ = FALSE;
#line 223 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp5_ = self->priv->_attributes;
#line 223 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp7_ = gck_attributes_find_ulong (_tmp5_, CKA_CERTIFICATE_CATEGORY, &_tmp6_);
#line 223 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		category = _tmp6_;
#line 223 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = _tmp7_;
#line 521 "pkcs11-certificate.c"
	} else {
#line 222 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = FALSE;
#line 525 "pkcs11-certificate.c"
	}
#line 222 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp8_ = _tmp3_;
#line 222 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp8_) {
#line 531 "pkcs11-certificate.c"
		gulong _tmp9_ = 0UL;
#line 224 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp9_ = category;
#line 224 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		if (_tmp9_ == ((gulong) 2)) {
#line 225 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			result = 0;
#line 225 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			return result;
#line 541 "pkcs11-certificate.c"
		} else {
			gulong _tmp10_ = 0UL;
#line 226 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			_tmp10_ = category;
#line 226 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			if (_tmp10_ == ((gulong) 1)) {
#line 227 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
				result = SEAHORSE_FLAG_PERSONAL;
#line 227 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
				return result;
#line 552 "pkcs11-certificate.c"
			}
		}
	}
#line 230 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp12_ = gcr_certificate_get_basic_constraints ((GcrCertificate*) self, &_tmp11_, NULL);
#line 230 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	is_ca = _tmp11_;
#line 230 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp12_) {
#line 562 "pkcs11-certificate.c"
		gint _tmp13_ = 0;
		gboolean _tmp14_ = FALSE;
		gint _tmp15_ = 0;
#line 231 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp14_ = is_ca;
#line 231 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		if (_tmp14_) {
#line 231 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			_tmp13_ = 0;
#line 572 "pkcs11-certificate.c"
		} else {
#line 231 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			_tmp13_ = (gint) SEAHORSE_FLAG_PERSONAL;
#line 576 "pkcs11-certificate.c"
		}
#line 231 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp15_ = _tmp13_;
#line 231 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = _tmp15_;
#line 231 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 584 "pkcs11-certificate.c"
	}
#line 233 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = SEAHORSE_FLAG_PERSONAL;
#line 233 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 590 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_ensure_flags (SeahorsePkcs11Certificate* self) {
	SeahorseFlags _tmp0_ = 0;
	guint _tmp1_ = 0U;
#line 236 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_if_fail (self != NULL);
#line 237 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = self->priv->_flags;
#line 237 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = G_MAXUINT;
#line 237 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (((guint) _tmp0_) == _tmp1_) {
#line 605 "pkcs11-certificate.c"
		SeahorseFlags _tmp2_ = 0;
#line 238 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp2_ = seahorse_pkcs11_certificate_calc_is_personal_and_trusted (self);
#line 238 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		self->priv->_flags = SEAHORSE_FLAG_EXPORTABLE | _tmp2_;
#line 611 "pkcs11-certificate.c"
	}
}


SeahorsePkcs11Certificate* seahorse_pkcs11_certificate_construct (GType object_type) {
	SeahorsePkcs11Certificate * self = NULL;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) g_object_new (object_type, NULL);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return self;
#line 622 "pkcs11-certificate.c"
}


SeahorsePkcs11Certificate* seahorse_pkcs11_certificate_new (void) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return seahorse_pkcs11_certificate_construct (SEAHORSE_PKCS11_TYPE_CERTIFICATE);
#line 629 "pkcs11-certificate.c"
}


SeahorsePkcs11Token* seahorse_pkcs11_certificate_get_place (SeahorsePkcs11Certificate* self) {
	SeahorsePkcs11Token* result;
	GObject* _tmp0_ = NULL;
#line 30 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 30 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = g_weak_ref_get (&self->priv->_token);
#line 30 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, SEAHORSE_PKCS11_TYPE_TOKEN, SeahorsePkcs11Token);
#line 30 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 644 "pkcs11-certificate.c"
}


void seahorse_pkcs11_certificate_set_place (SeahorsePkcs11Certificate* self, SeahorsePkcs11Token* value) {
	SeahorsePkcs11Token* _tmp0_ = NULL;
#line 31 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_if_fail (self != NULL);
#line 31 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = value;
#line 31 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_set (&self->priv->_token, (GObject*) _tmp0_);
#line 31 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject *) self, "place");
#line 658 "pkcs11-certificate.c"
}


SeahorseFlags seahorse_pkcs11_certificate_get_object_flags (SeahorsePkcs11Certificate* self) {
	SeahorseFlags result;
	SeahorseFlags _tmp0_ = 0;
#line 35 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 35 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_ensure_flags (self);
#line 35 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = self->priv->_flags;
#line 35 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp0_;
#line 35 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 675 "pkcs11-certificate.c"
}


GtkActionGroup* seahorse_pkcs11_certificate_get_actions (SeahorsePkcs11Certificate* self) {
	GtkActionGroup* result;
#line 39 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 39 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = NULL;
#line 39 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 687 "pkcs11-certificate.c"
}


SeahorsePkcs11PrivateKey* seahorse_pkcs11_certificate_get_partner (SeahorsePkcs11Certificate* self) {
	SeahorsePkcs11PrivateKey* result;
	GObject* _tmp0_ = NULL;
#line 43 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 43 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = g_weak_ref_get (&self->priv->_private_key);
#line 43 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY, SeahorsePkcs11PrivateKey);
#line 43 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 702 "pkcs11-certificate.c"
}


void seahorse_pkcs11_certificate_set_partner (SeahorsePkcs11Certificate* self, SeahorsePkcs11PrivateKey* value) {
	SeahorsePkcs11PrivateKey* _tmp0_ = NULL;
#line 44 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_if_fail (self != NULL);
#line 45 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = value;
#line 45 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_set (&self->priv->_private_key, (GObject*) _tmp0_);
#line 46 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (self->priv->_icon);
#line 46 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self->priv->_icon = NULL;
#line 47 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "partner");
#line 48 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "icon");
#line 49 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "description");
#line 44 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject *) self, "partner");
#line 726 "pkcs11-certificate.c"
}


static GckAttributes* _vala_GckAttributes_copy (GckAttributes* self) {
#line 54 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return g_boxed_copy (gck_attributes_get_type (), self);
#line 733 "pkcs11-certificate.c"
}


static gpointer __vala_GckAttributes_copy0 (gpointer self) {
#line 54 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return self ? _vala_GckAttributes_copy (self) : NULL;
#line 740 "pkcs11-certificate.c"
}


static GckAttributes* seahorse_pkcs11_certificate_real_get_attributes (GckObjectCache* base) {
	GckAttributes* result;
	SeahorsePkcs11Certificate* self;
	GckAttributes* _tmp0_ = NULL;
	GckAttributes* _tmp1_ = NULL;
#line 54 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 54 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = self->priv->_attributes;
#line 54 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = __vala_GckAttributes_copy0 (_tmp0_);
#line 54 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp1_;
#line 54 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 759 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_real_set_attributes (GckObjectCache* base, GckAttributes* value) {
	SeahorsePkcs11Certificate* self;
	GckAttributes* _tmp0_ = NULL;
	GckAttributes* _tmp1_ = NULL;
#line 55 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 56 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = value;
#line 56 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = __vala_GckAttributes_copy0 (_tmp0_);
#line 56 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	__vala_GckAttributes_free0 (self->priv->_attributes);
#line 56 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self->priv->_attributes = _tmp1_;
#line 57 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "attributes");
#line 55 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject *) self, "attributes");
#line 781 "pkcs11-certificate.c"
}


static gboolean seahorse_pkcs11_certificate_real_get_deletable (SeahorseDeletable* base) {
	gboolean result;
	SeahorsePkcs11Certificate* self;
	SeahorsePkcs11Token* token = NULL;
	SeahorsePkcs11Token* _tmp0_ = NULL;
	SeahorsePkcs11Token* _tmp1_ = NULL;
	SeahorsePkcs11Token* _tmp2_ = NULL;
	SeahorsePkcs11Token* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
#line 62 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 63 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = seahorse_pkcs11_certificate_get_place (self);
#line 63 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = _tmp0_;
#line 63 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	token = _tmp1_;
#line 64 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp2_ = token;
#line 64 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp2_ == NULL) {
#line 65 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = FALSE;
#line 65 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (token);
#line 65 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 812 "pkcs11-certificate.c"
	}
#line 66 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp3_ = token;
#line 66 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp4_ = seahorse_pkcs11_token_is_deletable (_tmp3_, (GckObject*) self);
#line 66 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp4_;
#line 66 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (token);
#line 66 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 824 "pkcs11-certificate.c"
}


static gboolean seahorse_pkcs11_certificate_real_get_exportable (SeahorseExportable* base) {
	gboolean result;
	SeahorsePkcs11Certificate* self;
	GckAttribute* _tmp0_ = NULL;
#line 71 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 71 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = self->priv->_der;
#line 71 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp0_ != NULL;
#line 71 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 840 "pkcs11-certificate.c"
}


static GIcon* seahorse_pkcs11_certificate_real_get_icon (GcrCertificate* base) {
	GIcon* result;
	SeahorsePkcs11Certificate* self;
	GIcon* _tmp0_ = NULL;
	GThemedIcon* icon = NULL;
	GThemedIcon* _tmp3_ = NULL;
	GObject* _tmp4_ = NULL;
	GObject* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	GIcon* _tmp15_ = NULL;
	GIcon* _tmp16_ = NULL;
#line 75 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 76 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = self->priv->_icon;
#line 76 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp0_ != NULL) {
#line 861 "pkcs11-certificate.c"
		GIcon* _tmp1_ = NULL;
		GIcon* _tmp2_ = NULL;
#line 77 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp1_ = self->priv->_icon;
#line 77 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp2_ = _g_object_ref0 (_tmp1_);
#line 77 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = _tmp2_;
#line 77 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 872 "pkcs11-certificate.c"
	}
#line 78 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp3_ = (GThemedIcon*) g_themed_icon_new (GCR_ICON_CERTIFICATE);
#line 78 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	icon = _tmp3_;
#line 79 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp4_ = g_weak_ref_get (&self->priv->_private_key);
#line 79 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp5_ = _tmp4_;
#line 79 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp6_ = _tmp5_ != NULL;
#line 79 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (_tmp5_);
#line 79 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp6_) {
#line 888 "pkcs11-certificate.c"
		GThemedIcon* eicon = NULL;
		GThemedIcon* _tmp7_ = NULL;
		GEmblem* emblem = NULL;
		GThemedIcon* _tmp8_ = NULL;
		GEmblem* _tmp9_ = NULL;
		GThemedIcon* _tmp10_ = NULL;
		GEmblem* _tmp11_ = NULL;
		GEmblemedIcon* _tmp12_ = NULL;
#line 80 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp7_ = (GThemedIcon*) g_themed_icon_new (GCR_ICON_KEY);
#line 80 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		eicon = _tmp7_;
#line 81 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp8_ = eicon;
#line 81 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp9_ = g_emblem_new ((GIcon*) _tmp8_);
#line 81 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		emblem = _tmp9_;
#line 82 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp10_ = icon;
#line 82 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp11_ = emblem;
#line 82 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp12_ = (GEmblemedIcon*) g_emblemed_icon_new ((GIcon*) _tmp10_, _tmp11_);
#line 82 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (self->priv->_icon);
#line 82 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		self->priv->_icon = (GIcon*) _tmp12_;
#line 79 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (emblem);
#line 79 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (eicon);
#line 921 "pkcs11-certificate.c"
	} else {
		GThemedIcon* _tmp13_ = NULL;
		GIcon* _tmp14_ = NULL;
#line 84 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp13_ = icon;
#line 84 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp14_ = _g_object_ref0 ((GIcon*) _tmp13_);
#line 84 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_g_object_unref0 (self->priv->_icon);
#line 84 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		self->priv->_icon = _tmp14_;
#line 933 "pkcs11-certificate.c"
	}
#line 86 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp15_ = self->priv->_icon;
#line 86 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp16_ = _g_object_ref0 (_tmp15_);
#line 86 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp16_;
#line 86 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (icon);
#line 86 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 945 "pkcs11-certificate.c"
}


static gchar* seahorse_pkcs11_certificate_real_get_description (GcrCertificate* base) {
	gchar* result;
	SeahorsePkcs11Certificate* self;
	GObject* _tmp0_ = NULL;
	GObject* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	SeahorseFlags _tmp5_ = 0;
#line 91 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 92 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_ensure_flags (self);
#line 93 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = g_weak_ref_get (&self->priv->_private_key);
#line 93 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = _tmp0_;
#line 93 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp2_ = _tmp1_ != NULL;
#line 93 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (_tmp1_);
#line 93 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp2_) {
#line 970 "pkcs11-certificate.c"
		const gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
#line 94 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = _ ("Personal certificate and key");
#line 94 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp4_ = g_strdup (_tmp3_);
#line 94 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = _tmp4_;
#line 94 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 981 "pkcs11-certificate.c"
	}
#line 95 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp5_ = self->priv->_flags;
#line 95 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if ((_tmp5_ & SEAHORSE_FLAG_PERSONAL) == SEAHORSE_FLAG_PERSONAL) {
#line 987 "pkcs11-certificate.c"
		const gchar* _tmp6_ = NULL;
		gchar* _tmp7_ = NULL;
#line 96 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp6_ = _ ("Personal certificate");
#line 96 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp7_ = g_strdup (_tmp6_);
#line 96 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = _tmp7_;
#line 96 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 998 "pkcs11-certificate.c"
	} else {
		const gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 98 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp8_ = _ ("Certificate");
#line 98 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp9_ = g_strdup (_tmp8_);
#line 98 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		result = _tmp9_;
#line 98 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return result;
#line 1010 "pkcs11-certificate.c"
	}
}


static gchar* seahorse_pkcs11_certificate_real_get_label (GcrCertificate* base) {
	gchar* result;
	SeahorsePkcs11Certificate* self;
	gchar* _tmp0_ = NULL;
#line 103 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 103 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = gcr_certificate_get_subject_name ((GcrCertificate*) self);
#line 103 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp0_;
#line 103 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 1027 "pkcs11-certificate.c"
}


static gchar* seahorse_pkcs11_certificate_real_get_subject (GcrCertificate* base) {
	gchar* result;
	SeahorsePkcs11Certificate* self;
	gchar* _tmp0_ = NULL;
#line 107 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 107 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = gcr_certificate_get_subject_name ((GcrCertificate*) self);
#line 107 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp0_;
#line 107 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 1043 "pkcs11-certificate.c"
}


static gchar* seahorse_pkcs11_certificate_real_get_markup (GcrCertificate* base) {
	gchar* result;
	SeahorsePkcs11Certificate* self;
	gchar* _tmp0_ = NULL;
#line 111 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 111 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = gcr_certificate_get_markup_text ((GcrCertificate*) self);
#line 111 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp0_;
#line 111 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 1059 "pkcs11-certificate.c"
}


static gchar* seahorse_pkcs11_certificate_real_get_issuer (GcrCertificate* base) {
	gchar* result;
	SeahorsePkcs11Certificate* self;
	gchar* _tmp0_ = NULL;
#line 115 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 115 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = gcr_certificate_get_issuer_name ((GcrCertificate*) self);
#line 115 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	result = _tmp0_;
#line 115 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return result;
#line 1075 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_real_get_expiry (GcrCertificate* base, GDate* result) {
	SeahorsePkcs11Certificate* self;
	GDate* _tmp0_ = NULL;
	GDate* _tmp1_ = NULL;
	GDate _tmp2_ = {0};
#line 119 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = (SeahorsePkcs11Certificate*) base;
#line 119 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = gcr_certificate_get_expiry_date ((GcrCertificate*) self);
#line 119 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = _tmp0_;
#line 119 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp2_ = *_tmp1_;
#line 119 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_free0 (_tmp1_);
#line 119 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	*result = _tmp2_;
#line 119 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return;
#line 1098 "pkcs11-certificate.c"
}


static void _seahorse_pkcs11_certificate___lambda9_ (SeahorsePkcs11Certificate* self, GParamSpec* pspec) {
	GParamSpec* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GckAttributes* _tmp2_ = NULL;
#line 137 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_return_if_fail (pspec != NULL);
#line 138 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = pspec;
#line 138 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = _tmp0_->name;
#line 138 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (g_strcmp0 (_tmp1_, "attributes") != 0) {
#line 139 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		return;
#line 1116 "pkcs11-certificate.c"
	}
#line 140 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp2_ = self->priv->_attributes;
#line 140 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp2_ != NULL) {
#line 1122 "pkcs11-certificate.c"
		GckAttributes* _tmp3_ = NULL;
		GckAttribute* _tmp4_ = NULL;
#line 141 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = self->priv->_attributes;
#line 141 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp4_ = gck_attributes_find (_tmp3_, CKA_VALUE);
#line 141 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		self->priv->_der = _tmp4_;
#line 1131 "pkcs11-certificate.c"
	}
#line 142 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "label");
#line 143 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "markup");
#line 144 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "subject");
#line 145 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "issuer");
#line 146 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_notify ((GObject*) self, "expiry");
#line 1143 "pkcs11-certificate.c"
}


static void __seahorse_pkcs11_certificate___lambda9__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
#line 137 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_seahorse_pkcs11_certificate___lambda9_ (self, pspec);
#line 1150 "pkcs11-certificate.c"
}


static GObject * seahorse_pkcs11_certificate_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	SeahorsePkcs11Certificate * self;
	guint _tmp0_ = 0U;
	GckAttributes* _tmp1_ = NULL;
#line 131 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	parent_class = G_OBJECT_CLASS (seahorse_pkcs11_certificate_parent_class);
#line 131 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 131 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11Certificate);
#line 132 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = G_MAXUINT;
#line 132 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self->priv->_flags = (SeahorseFlags) _tmp0_;
#line 133 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self->priv->_der = NULL;
#line 134 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_clear (&self->priv->_private_key);
#line 134 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_init (&self->priv->_private_key, NULL);
#line 135 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_clear (&self->priv->_token);
#line 135 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_init (&self->priv->_token, NULL);
#line 137 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_signal_connect_object ((GObject*) self, "notify", (GCallback) __seahorse_pkcs11_certificate___lambda9__g_object_notify, self, 0);
#line 149 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp1_ = self->priv->_attributes;
#line 149 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	if (_tmp1_ != NULL) {
#line 1186 "pkcs11-certificate.c"
		GckAttributes* _tmp2_ = NULL;
		GckAttribute* _tmp3_ = NULL;
#line 150 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp2_ = self->priv->_attributes;
#line 150 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		_tmp3_ = gck_attributes_find (_tmp2_, CKA_VALUE);
#line 150 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		self->priv->_der = _tmp3_;
#line 1195 "pkcs11-certificate.c"
	}
#line 131 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	return obj;
#line 1199 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_class_init (SeahorsePkcs11CertificateClass * klass) {
	guint8* _tmp0_ = NULL;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_parent_class = g_type_class_peek_parent (klass);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_type_class_add_private (klass, sizeof (SeahorsePkcs11CertificatePrivate));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	G_OBJECT_CLASS (klass)->dispose = seahorse_pkcs11_certificate_real_dispose;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_seahorse_pkcs11_certificate_get_property;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_seahorse_pkcs11_certificate_set_property;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	G_OBJECT_CLASS (klass)->constructor = seahorse_pkcs11_certificate_constructor;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	G_OBJECT_CLASS (klass)->finalize = seahorse_pkcs11_certificate_finalize;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_PLACE, g_param_spec_object ("place", "place", "place", SEAHORSE_PKCS11_TYPE_TOKEN, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_OBJECT_FLAGS, g_param_spec_flags ("object-flags", "object-flags", "object-flags", SEAHORSE_TYPE_FLAGS, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_ACTIONS, g_param_spec_object ("actions", "actions", "actions", GTK_TYPE_ACTION_GROUP, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_PARTNER, g_param_spec_object ("partner", "partner", "partner", SEAHORSE_PKCS11_TYPE_PRIVATE_KEY, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_ATTRIBUTES, g_param_spec_boxed ("attributes", "attributes", "attributes", gck_attributes_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_DELETABLE, g_param_spec_boolean ("deletable", "deletable", "deletable", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_EXPORTABLE, g_param_spec_boolean ("exportable", "exportable", "exportable", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_ICON, g_param_spec_object ("icon", "icon", "icon", G_TYPE_ICON, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_DESCRIPTION, g_param_spec_string ("description", "description", "description", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_LABEL, g_param_spec_string ("label", "label", "label", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_SUBJECT, g_param_spec_string ("subject", "subject", "subject", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_MARKUP, g_param_spec_string ("markup", "markup", "markup", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_ISSUER, g_param_spec_string ("issuer", "issuer", "issuer", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_CERTIFICATE_EXPIRY, g_param_spec_boxed ("expiry", "expiry", "expiry", G_TYPE_DATE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 129 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_tmp0_ = g_new0 (guint8, 0);
#line 129 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_EMPTY = _tmp0_;
#line 129 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_EMPTY_length1 = 0;
#line 1253 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_gcr_comparable_interface_init (GcrComparableIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_gcr_comparable_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->compare = (gint (*)(GcrComparable*, GcrComparable*)) seahorse_pkcs11_certificate_real_compare;
#line 1262 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_gcr_certificate_interface_init (GcrCertificateIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_gcr_certificate_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->get_der_data = (guint8* (*)(GcrCertificate*, gsize*)) seahorse_pkcs11_certificate_real_get_der_data;
#line 1271 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_gck_object_cache_interface_init (GckObjectCacheIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_gck_object_cache_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->fill = (void (*)(GckObjectCache*, GckAttributes*)) seahorse_pkcs11_certificate_real_fill;
#line 1280 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_seahorse_deletable_interface_init (SeahorseDeletableIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_seahorse_deletable_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->create_deleter = (SeahorseDeleter* (*)(SeahorseDeletable*)) seahorse_pkcs11_certificate_real_create_deleter;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->get_deletable = seahorse_pkcs11_certificate_real_get_deletable;
#line 1291 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_seahorse_exportable_interface_init (SeahorseExportableIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_seahorse_exportable_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->create_exporters = (GList* (*)(SeahorseExportable*, SeahorseExporterType)) seahorse_pkcs11_certificate_real_create_exporters;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->get_exportable = seahorse_pkcs11_certificate_real_get_exportable;
#line 1302 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_seahorse_viewable_interface_init (SeahorseViewableIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	seahorse_pkcs11_certificate_seahorse_viewable_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	iface->create_viewer = (GtkWindow* (*)(SeahorseViewable*, GtkWindow*)) seahorse_pkcs11_certificate_real_create_viewer;
#line 1311 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_instance_init (SeahorsePkcs11Certificate * self) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self->priv = SEAHORSE_PKCS11_CERTIFICATE_GET_PRIVATE (self);
#line 1318 "pkcs11-certificate.c"
}


static void seahorse_pkcs11_certificate_finalize (GObject* obj) {
	SeahorsePkcs11Certificate * self;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11Certificate);
#line 122 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_clear (&self->priv->_token);
#line 123 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	__vala_GckAttributes_free0 (self->priv->_attributes);
#line 125 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	g_weak_ref_clear (&self->priv->_private_key);
#line 126 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	_g_object_unref0 (self->priv->_icon);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	G_OBJECT_CLASS (seahorse_pkcs11_certificate_parent_class)->finalize (obj);
#line 1336 "pkcs11-certificate.c"
}


GType seahorse_pkcs11_certificate_get_type (void) {
	static volatile gsize seahorse_pkcs11_certificate_type_id__volatile = 0;
	if (g_once_init_enter (&seahorse_pkcs11_certificate_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SeahorsePkcs11CertificateClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) seahorse_pkcs11_certificate_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SeahorsePkcs11Certificate), 0, (GInstanceInitFunc) seahorse_pkcs11_certificate_instance_init, NULL };
		static const GInterfaceInfo gcr_comparable_info = { (GInterfaceInitFunc) seahorse_pkcs11_certificate_gcr_comparable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo gcr_certificate_info = { (GInterfaceInitFunc) seahorse_pkcs11_certificate_gcr_certificate_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo gck_object_cache_info = { (GInterfaceInitFunc) seahorse_pkcs11_certificate_gck_object_cache_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo seahorse_deletable_info = { (GInterfaceInitFunc) seahorse_pkcs11_certificate_seahorse_deletable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo seahorse_exportable_info = { (GInterfaceInitFunc) seahorse_pkcs11_certificate_seahorse_exportable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo seahorse_viewable_info = { (GInterfaceInitFunc) seahorse_pkcs11_certificate_seahorse_viewable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType seahorse_pkcs11_certificate_type_id;
		seahorse_pkcs11_certificate_type_id = g_type_register_static (gck_object_get_type (), "SeahorsePkcs11Certificate", &g_define_type_info, 0);
		g_type_add_interface_static (seahorse_pkcs11_certificate_type_id, gcr_comparable_get_type (), &gcr_comparable_info);
		g_type_add_interface_static (seahorse_pkcs11_certificate_type_id, gcr_certificate_get_type (), &gcr_certificate_info);
		g_type_add_interface_static (seahorse_pkcs11_certificate_type_id, gck_object_cache_get_type (), &gck_object_cache_info);
		g_type_add_interface_static (seahorse_pkcs11_certificate_type_id, SEAHORSE_TYPE_DELETABLE, &seahorse_deletable_info);
		g_type_add_interface_static (seahorse_pkcs11_certificate_type_id, SEAHORSE_TYPE_EXPORTABLE, &seahorse_exportable_info);
		g_type_add_interface_static (seahorse_pkcs11_certificate_type_id, SEAHORSE_TYPE_VIEWABLE, &seahorse_viewable_info);
		g_once_init_leave (&seahorse_pkcs11_certificate_type_id__volatile, seahorse_pkcs11_certificate_type_id);
	}
	return seahorse_pkcs11_certificate_type_id__volatile;
}


static void _vala_seahorse_pkcs11_certificate_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	SeahorsePkcs11Certificate * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11Certificate);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	switch (property_id) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_PLACE:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_object (value, seahorse_pkcs11_certificate_get_place (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_OBJECT_FLAGS:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_set_flags (value, seahorse_pkcs11_certificate_get_object_flags (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_ACTIONS:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_set_object (value, seahorse_pkcs11_certificate_get_actions (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_PARTNER:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_object (value, seahorse_pkcs11_certificate_get_partner (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_ATTRIBUTES:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_boxed (value, seahorse_pkcs11_certificate_real_get_attributes ((GckObjectCache*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_DELETABLE:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_set_boolean (value, seahorse_deletable_get_deletable ((SeahorseDeletable*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_EXPORTABLE:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_set_boolean (value, seahorse_exportable_get_exportable ((SeahorseExportable*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_ICON:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_object (value, seahorse_pkcs11_certificate_real_get_icon ((GcrCertificate*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_DESCRIPTION:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_string (value, seahorse_pkcs11_certificate_real_get_description ((GcrCertificate*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_LABEL:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_string (value, seahorse_pkcs11_certificate_real_get_label ((GcrCertificate*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_SUBJECT:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_string (value, seahorse_pkcs11_certificate_real_get_subject ((GcrCertificate*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_MARKUP:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_string (value, seahorse_pkcs11_certificate_real_get_markup ((GcrCertificate*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_ISSUER:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		g_value_take_string (value, seahorse_pkcs11_certificate_real_get_issuer ((GcrCertificate*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_EXPIRY:
#line 1449 "pkcs11-certificate.c"
		{
			GDate boxed;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			seahorse_pkcs11_certificate_real_get_expiry ((GcrCertificate*) self, &boxed);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
			g_value_set_boxed (value, &boxed);
#line 1456 "pkcs11-certificate.c"
		}
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 1460 "pkcs11-certificate.c"
		default:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 1466 "pkcs11-certificate.c"
	}
}


static void _vala_seahorse_pkcs11_certificate_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	SeahorsePkcs11Certificate * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11Certificate);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
	switch (property_id) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_PLACE:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		seahorse_pkcs11_certificate_set_place (self, g_value_get_object (value));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_PARTNER:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		seahorse_pkcs11_certificate_set_partner (self, g_value_get_object (value));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		case SEAHORSE_PKCS11_CERTIFICATE_ATTRIBUTES:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		seahorse_pkcs11_certificate_real_set_attributes ((GckObjectCache*) self, g_value_get_boxed (value));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 1494 "pkcs11-certificate.c"
		default:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-certificate.vala"
		break;
#line 1500 "pkcs11-certificate.c"
	}
}



