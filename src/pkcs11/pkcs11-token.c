/* pkcs11-token.c generated by valac 0.22.1, the Vala compiler
 * generated from pkcs11-token.vala, do not modify */

/*
 * Seahorse
 *
 * Copyright (C) 2006 Stefan Walter
 * Copyright (C) 2011 Collabora Ltd.
 * Copyright (C) 2013 Red Hat, Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU General Public License for more details.
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the
 * Free Software Foundation, Inc.,
 * 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307, USA.
 */

#include <glib.h>
#include <glib-object.h>
#include "seahorse-pkcs11.h"
#include <gck/gck.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include "seahorse-common.h"
#include <p11-kit/pkcs11.h>
#include <gcr/gcr-base.h>
#include "libseahorse/seahorse-util.h"
#include <glib/gi18n-lib.h>
#include <gtk/gtk.h>

#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define __vala_GckTokenInfo_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckTokenInfo_free (var), NULL)))
#define _g_array_free0(var) ((var == NULL) ? NULL : (var = (g_array_free (var, TRUE), NULL)))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
typedef struct _SeahorsePkcs11TokenLockData SeahorsePkcs11TokenLockData;
typedef struct _SeahorsePkcs11TokenUnlockData SeahorsePkcs11TokenUnlockData;
#define __vala_GckAttributes_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckAttributes_free (var), NULL)))
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
#define __vala_GckSessionInfo_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckSessionInfo_free (var), NULL)))
#define _g_ptr_array_unref0(var) ((var == NULL) ? NULL : (var = (g_ptr_array_unref (var), NULL)))
#define __vala_GckAttribute_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckAttribute_free (var), NULL)))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
#define __vala_GckBuilder_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckBuilder_free (var), NULL)))
typedef struct _SeahorsePkcs11TokenLoadData SeahorsePkcs11TokenLoadData;
#define __vala_GckUriData_free0(var) ((var == NULL) ? NULL : (var = (_vala_GckUriData_free (var), NULL)))
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _SeahorsePkcs11TokenPrivate {
	GckSlot* _slot;
	gchar* _uri;
	GckTokenInfo* _info;
	GArray* _mechanisms;
	GckSession* _session;
	GHashTable* _object_for_handle;
	GHashTable* _objects_for_id;
	GHashTable* _id_for_object;
	GHashTable* _objects_visible;
};

struct _SeahorsePkcs11TokenLockData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SeahorsePkcs11Token* self;
	GTlsInteraction* interaction;
	GCancellable* cancellable;
	gboolean result;
	GckSession* _tmp0_;
	gboolean _tmp1_;
	GckSession* _tmp2_;
	GCancellable* _tmp3_;
	gboolean _tmp4_;
	GCancellable* _tmp5_;
	gboolean _tmp6_;
	GError * _inner_error_;
};

struct _SeahorsePkcs11TokenUnlockData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SeahorsePkcs11Token* self;
	GTlsInteraction* interaction;
	GCancellable* cancellable;
	gboolean result;
	GckSession* _tmp0_;
	gboolean _tmp1_;
	GckSession* _tmp2_;
	gboolean _tmp3_;
	GckSession* _tmp4_;
	GTlsInteraction* _tmp5_;
	GCancellable* _tmp6_;
	gboolean _tmp7_;
	GckSessionOptions options;
	GckSessionOptions _tmp8_;
	GckSession* _tmp9_;
	GckSlot* _tmp10_;
	GckSessionOptions _tmp11_;
	GCancellable* _tmp12_;
	GckSession* _tmp13_;
	GError * _inner_error_;
};

struct _SeahorsePkcs11TokenLoadData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SeahorsePkcs11Token* self;
	GCancellable* cancellable;
	gboolean result;
	GHashTable* checks;
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	GHashTable* _tmp2_;
	GList* _tmp3_;
	GList* object_collection;
	GList* object_it;
	GObject* object;
	gulong handle;
	GObject* _tmp4_;
	gulong _tmp5_;
	gulong _tmp6_;
	GHashTable* _tmp7_;
	gulong _tmp8_;
	gulong* _tmp9_;
	GObject* _tmp10_;
	GObject* _tmp11_;
	GckSession* _tmp12_;
	GckSessionOptions options;
	GckSessionOptions _tmp13_;
	GckSession* _tmp14_;
	GckSlot* _tmp15_;
	GckSessionOptions _tmp16_;
	GCancellable* _tmp17_;
	GckSession* _tmp18_;
	GckBuilder* builder;
	GckBuilder* _tmp19_;
	GckBuilder* _tmp20_;
	GckBuilder* _tmp21_;
	GckEnumerator* enumerator;
	GckSession* _tmp22_;
	GckBuilder* _tmp23_;
	GckAttributes* _tmp24_;
	GckEnumerator* _tmp25_;
	GckEnumerator* _tmp26_;
	GckBuilder* _tmp27_;
	GckBuilder* _tmp28_;
	GckBuilder* _tmp29_;
	GckEnumerator* chained;
	GckSession* _tmp30_;
	GckBuilder* _tmp31_;
	GckAttributes* _tmp32_;
	GckEnumerator* _tmp33_;
	GckEnumerator* _tmp34_;
	GckEnumerator* _tmp35_;
	GckEnumerator* _tmp36_;
	gboolean _tmp37_;
	gboolean _tmp38_;
	GList* objects;
	GckEnumerator* _tmp39_;
	GCancellable* _tmp40_;
	GList* _tmp41_;
	GList* _tmp42_;
	GHashTable* _tmp43_;
	GList* _tmp44_;
	GList* _tmp45_;
	GList* _tmp46_;
	GList* _tmp47_;
	GList* _vala1_object_collection;
	GList* _vala1_object_it;
	GckModule* _tmp48_;
	GckModule* _vala1_object;
	gulong _vala1_handle;
	GckModule* _tmp49_;
	gulong _tmp50_;
	gulong _tmp51_;
	GHashTable* _tmp52_;
	gulong _tmp53_;
	GError * _inner_error_;
};


static gpointer seahorse_pkcs11_token_parent_class = NULL;
static GcrCollectionIface* seahorse_pkcs11_token_gcr_collection_parent_iface = NULL;
static SeahorsePlaceIface* seahorse_pkcs11_token_seahorse_place_parent_iface = NULL;
static SeahorseLockableIface* seahorse_pkcs11_token_seahorse_lockable_parent_iface = NULL;

#define SEAHORSE_PKCS11_TOKEN_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SEAHORSE_PKCS11_TYPE_TOKEN, SeahorsePkcs11TokenPrivate))
enum  {
	SEAHORSE_PKCS11_TOKEN_DUMMY_PROPERTY,
	SEAHORSE_PKCS11_TOKEN_UNLOCKABLE,
	SEAHORSE_PKCS11_TOKEN_LOCKABLE,
	SEAHORSE_PKCS11_TOKEN_INFO,
	SEAHORSE_PKCS11_TOKEN_SESSION,
	SEAHORSE_PKCS11_TOKEN_SLOT,
	SEAHORSE_PKCS11_TOKEN_LABEL,
	SEAHORSE_PKCS11_TOKEN_DESCRIPTION,
	SEAHORSE_PKCS11_TOKEN_URI,
	SEAHORSE_PKCS11_TOKEN_ICON,
	SEAHORSE_PKCS11_TOKEN_ACTIONS,
	SEAHORSE_PKCS11_TOKEN_OBJECT_FLAGS,
	SEAHORSE_PKCS11_TOKEN_MECHANISMS
};
static void _vala_GckTokenInfo_free (GckTokenInfo* self);
static void seahorse_pkcs11_token_real_dispose (GObject* base);
static void seahorse_pkcs11_token_real_lock_data_free (gpointer _data);
static void seahorse_pkcs11_token_real_lock (SeahorseLockable* base, GTlsInteraction* interaction, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static gboolean seahorse_pkcs11_token_real_lock_co (SeahorsePkcs11TokenLockData* _data_);
static gboolean seahorse_pkcs11_token_is_session_logged_in (GckSession* session);
static void seahorse_pkcs11_token_lock_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void seahorse_pkcs11_token_real_unlock_data_free (gpointer _data);
static void seahorse_pkcs11_token_real_unlock (SeahorseLockable* base, GTlsInteraction* interaction, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static gboolean seahorse_pkcs11_token_real_unlock_co (SeahorsePkcs11TokenUnlockData* _data_);
static void seahorse_pkcs11_token_unlock_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static GckSessionOptions seahorse_pkcs11_token_calculate_session_options (SeahorsePkcs11Token* self);
static gboolean seahorse_pkcs11_token_real_contains (GcrCollection* base, GObject* object);
static guint seahorse_pkcs11_token_real_get_length (GcrCollection* base);
static GList* seahorse_pkcs11_token_real_get_objects (GcrCollection* base);
static GckTokenInfo* seahorse_pkcs11_token_ensure_token_info (SeahorsePkcs11Token* self);
static void _vala_GckAttributes_free (GckAttributes* self);
static void seahorse_pkcs11_token_remove_objects (SeahorsePkcs11Token* self, GList* objects);
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
static void _vala_GckSessionInfo_free (GckSessionInfo* self);
static void seahorse_pkcs11_token_update_token_info (SeahorsePkcs11Token* self);
static GckTokenInfo* _vala_GckTokenInfo_copy (GckTokenInfo* self);
static void seahorse_pkcs11_token_update_id_map (SeahorsePkcs11Token* self, GObject* object, GckAttribute* id);
static GckAttribute* _vala_GckAttribute_copy (GckAttribute* self);
static void _vala_GckAttribute_free (GckAttribute* self);
static GObject* seahorse_pkcs11_token_lookup_id_map (SeahorsePkcs11Token* self, GType object_type, GckAttribute* id);
static void seahorse_pkcs11_token_update_visibility (SeahorsePkcs11Token* self, GList* objects, gboolean visible);
static gboolean seahorse_pkcs11_token_make_certificate_key_pair (SeahorsePkcs11Certificate* certificate, SeahorsePkcs11PrivateKey* private_key);
static GObject* seahorse_pkcs11_token_break_certificate_key_pair (GObject* object);
static void seahorse_pkcs11_token_receive_objects (SeahorsePkcs11Token* self, GList* objects);
static gulong* _ulong_dup (gulong* self);
static void seahorse_pkcs11_token_real_load_data_free (gpointer _data);
static void seahorse_pkcs11_token_real_load (SeahorsePlace* base, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static gboolean seahorse_pkcs11_token_real_load_co (SeahorsePkcs11TokenLoadData* _data_);
static void _g_free0_ (gpointer var);
static void seahorse_pkcs11_token_load_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void _vala_GckBuilder_free (GckBuilder* self);
static GObject * seahorse_pkcs11_token_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
static guint _gck_attribute_hash_ghash_func (gconstpointer key);
static gboolean _gck_attribute_equal_gequal_func (gconstpointer a, gconstpointer b);
static void __vala_GckAttribute_free0_ (gpointer var);
static void _g_ptr_array_unref0_ (gpointer var);
static void _vala_GckUriData_free (GckUriData* self);
static void seahorse_pkcs11_token_finalize (GObject* obj);
static void _vala_seahorse_pkcs11_token_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_seahorse_pkcs11_token_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


static void _vala_GckTokenInfo_free (GckTokenInfo* self) {
#line 119 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_boxed_free (gck_token_info_get_type (), self);
#line 271 "pkcs11-token.c"
}


SeahorsePkcs11Token* seahorse_pkcs11_token_construct (GType object_type, GckSlot* slot) {
	SeahorsePkcs11Token * self = NULL;
	GckSlot* _tmp0_ = NULL;
#line 127 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (slot != NULL, NULL);
#line 128 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = slot;
#line 128 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) g_object_new (object_type, "slot", _tmp0_, NULL);
#line 127 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return self;
#line 286 "pkcs11-token.c"
}


SeahorsePkcs11Token* seahorse_pkcs11_token_new (GckSlot* slot) {
#line 127 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return seahorse_pkcs11_token_construct (SEAHORSE_PKCS11_TYPE_TOKEN, slot);
#line 293 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_real_dispose (GObject* base) {
	SeahorsePkcs11Token * self;
#line 148 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 149 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (self->priv->_slot);
#line 149 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_slot = NULL;
#line 150 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (self->priv->_session);
#line 150 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_session = NULL;
#line 309 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_real_lock_data_free (gpointer _data) {
	SeahorsePkcs11TokenLockData* _data_;
	_data_ = _data;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->interaction);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->cancellable);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->self);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_slice_free (SeahorsePkcs11TokenLockData, _data_);
#line 324 "pkcs11-token.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return self ? g_object_ref (self) : NULL;
#line 331 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_real_lock (SeahorseLockable* base, GTlsInteraction* interaction, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SeahorsePkcs11Token * self;
	SeahorsePkcs11TokenLockData* _data_;
	SeahorsePkcs11Token* _tmp0_ = NULL;
	GTlsInteraction* _tmp1_ = NULL;
	GTlsInteraction* _tmp2_ = NULL;
	GCancellable* _tmp3_ = NULL;
	GCancellable* _tmp4_ = NULL;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = g_slice_new0 (SeahorsePkcs11TokenLockData);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, seahorse_pkcs11_token_real_lock);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, seahorse_pkcs11_token_real_lock_data_free);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->self = _tmp0_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = interaction;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->interaction);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->interaction = _tmp2_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = cancellable;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->cancellable);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->cancellable = _tmp4_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_real_lock_co (_data_);
#line 373 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_lock_finish (SeahorseLockable* base, GAsyncResult* _res_, GError** error) {
	gboolean result;
	SeahorsePkcs11TokenLockData* _data_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (g_simple_async_result_propagate_error (G_SIMPLE_ASYNC_RESULT (_res_), error)) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 384 "pkcs11-token.c"
	}
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _data_->result;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 392 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_lock_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SeahorsePkcs11TokenLockData* _data_;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = _user_data_;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_source_object_ = source_object;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_res_ = _res_;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_real_lock_co (_data_);
#line 406 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_lock_co (SeahorsePkcs11TokenLockData* _data_) {
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	switch (_data_->_state_) {
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 0:
#line 415 "pkcs11-token.c"
		goto _state_0;
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 1:
#line 419 "pkcs11-token.c"
		goto _state_1;
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 2:
#line 423 "pkcs11-token.c"
		goto _state_2;
		default:
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_assert_not_reached ();
#line 428 "pkcs11-token.c"
	}
	_state_0:
#line 155 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp0_ = NULL;
#line 155 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp0_ = _data_->self->priv->_session;
#line 155 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp1_ = FALSE;
#line 155 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp1_ = seahorse_pkcs11_token_is_session_logged_in (_data_->_tmp0_);
#line 155 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (!_data_->_tmp1_) {
#line 156 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->result = TRUE;
#line 156 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_state_ == 0) {
#line 156 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 447 "pkcs11-token.c"
		} else {
#line 156 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 451 "pkcs11-token.c"
		}
#line 156 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_unref (_data_->_async_result);
#line 156 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 457 "pkcs11-token.c"
	}
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp2_ = NULL;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp2_ = _data_->self->priv->_session;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp3_ = NULL;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp3_ = _data_->cancellable;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_state_ = 1;
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_session_logout_async (_data_->_tmp2_, _data_->_tmp3_, seahorse_pkcs11_token_lock_ready, _data_);
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return FALSE;
#line 473 "pkcs11-token.c"
	_state_1:
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_session_logout_finish (_data_->_tmp2_, _data_->_res_, &_data_->_inner_error_);
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_inner_error_ != NULL) {
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_set_from_error (_data_->_async_result, _data_->_inner_error_);
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_error_free (_data_->_inner_error_);
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_state_ == 0) {
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 487 "pkcs11-token.c"
		} else {
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 491 "pkcs11-token.c"
		}
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_unref (_data_->_async_result);
#line 158 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 497 "pkcs11-token.c"
	}
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp5_ = NULL;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp5_ = _data_->cancellable;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_state_ = 2;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_place_load ((SeahorsePlace*) _data_->self, _data_->_tmp5_, seahorse_pkcs11_token_lock_ready, _data_);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return FALSE;
#line 509 "pkcs11-token.c"
	_state_2:
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp6_ = FALSE;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp6_ = seahorse_place_load_finish ((SeahorsePlace*) _data_->self, _data_->_res_, &_data_->_inner_error_);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp4_ = _data_->_tmp6_;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_inner_error_ != NULL) {
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_set_from_error (_data_->_async_result, _data_->_inner_error_);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_error_free (_data_->_inner_error_);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_state_ == 0) {
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 527 "pkcs11-token.c"
		} else {
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 531 "pkcs11-token.c"
		}
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_unref (_data_->_async_result);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 537 "pkcs11-token.c"
	}
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->result = _data_->_tmp4_;
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_state_ == 0) {
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 545 "pkcs11-token.c"
	} else {
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 549 "pkcs11-token.c"
	}
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_unref (_data_->_async_result);
#line 159 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return FALSE;
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_state_ == 0) {
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 559 "pkcs11-token.c"
	} else {
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 563 "pkcs11-token.c"
	}
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_unref (_data_->_async_result);
#line 153 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return FALSE;
#line 569 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_real_unlock_data_free (gpointer _data) {
	SeahorsePkcs11TokenUnlockData* _data_;
	_data_ = _data;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->interaction);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->cancellable);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->self);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_slice_free (SeahorsePkcs11TokenUnlockData, _data_);
#line 584 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_real_unlock (SeahorseLockable* base, GTlsInteraction* interaction, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SeahorsePkcs11Token * self;
	SeahorsePkcs11TokenUnlockData* _data_;
	SeahorsePkcs11Token* _tmp0_ = NULL;
	GTlsInteraction* _tmp1_ = NULL;
	GTlsInteraction* _tmp2_ = NULL;
	GCancellable* _tmp3_ = NULL;
	GCancellable* _tmp4_ = NULL;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = g_slice_new0 (SeahorsePkcs11TokenUnlockData);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, seahorse_pkcs11_token_real_unlock);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, seahorse_pkcs11_token_real_unlock_data_free);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->self = _tmp0_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = interaction;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->interaction);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->interaction = _tmp2_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = cancellable;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->cancellable);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->cancellable = _tmp4_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_real_unlock_co (_data_);
#line 626 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_unlock_finish (SeahorseLockable* base, GAsyncResult* _res_, GError** error) {
	gboolean result;
	SeahorsePkcs11TokenUnlockData* _data_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (g_simple_async_result_propagate_error (G_SIMPLE_ASYNC_RESULT (_res_), error)) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 637 "pkcs11-token.c"
	}
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _data_->result;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 645 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_unlock_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SeahorsePkcs11TokenUnlockData* _data_;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = _user_data_;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_source_object_ = source_object;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_res_ = _res_;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_real_unlock_co (_data_);
#line 659 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_unlock_co (SeahorsePkcs11TokenUnlockData* _data_) {
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	switch (_data_->_state_) {
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 0:
#line 668 "pkcs11-token.c"
		goto _state_0;
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 1:
#line 672 "pkcs11-token.c"
		goto _state_1;
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 2:
#line 676 "pkcs11-token.c"
		goto _state_2;
		default:
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_assert_not_reached ();
#line 681 "pkcs11-token.c"
	}
	_state_0:
#line 164 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp0_ = NULL;
#line 164 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp0_ = _data_->self->priv->_session;
#line 164 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp1_ = FALSE;
#line 164 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp1_ = seahorse_pkcs11_token_is_session_logged_in (_data_->_tmp0_);
#line 164 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_tmp1_) {
#line 165 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->result = TRUE;
#line 165 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_state_ == 0) {
#line 165 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 700 "pkcs11-token.c"
		} else {
#line 165 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 704 "pkcs11-token.c"
		}
#line 165 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_unref (_data_->_async_result);
#line 165 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 710 "pkcs11-token.c"
	}
#line 166 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp2_ = NULL;
#line 166 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp2_ = _data_->self->priv->_session;
#line 166 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_tmp2_ != NULL) {
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp4_ = NULL;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp4_ = _data_->self->priv->_session;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp5_ = NULL;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp5_ = _data_->interaction;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp6_ = NULL;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp6_ = _data_->cancellable;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_state_ = 1;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		gck_session_login_interactive_async (_data_->_tmp4_, CKU_USER, _data_->_tmp5_, _data_->_tmp6_, seahorse_pkcs11_token_unlock_ready, _data_);
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 736 "pkcs11-token.c"
		_state_1:
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp7_ = FALSE;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp7_ = gck_session_login_interactive_finish (_data_->_tmp4_, _data_->_res_, &_data_->_inner_error_);
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp3_ = _data_->_tmp7_;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_inner_error_ != NULL) {
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_set_from_error (_data_->_async_result, _data_->_inner_error_);
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_error_free (_data_->_inner_error_);
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (_data_->_state_ == 0) {
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 754 "pkcs11-token.c"
			} else {
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_simple_async_result_complete (_data_->_async_result);
#line 758 "pkcs11-token.c"
			}
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_object_unref (_data_->_async_result);
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			return FALSE;
#line 764 "pkcs11-token.c"
		}
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->result = _data_->_tmp3_;
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_state_ == 0) {
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 772 "pkcs11-token.c"
		} else {
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 776 "pkcs11-token.c"
		}
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_unref (_data_->_async_result);
#line 167 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 782 "pkcs11-token.c"
	} else {
#line 169 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp8_ = 0;
#line 169 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp8_ = seahorse_pkcs11_token_calculate_session_options (_data_->self);
#line 169 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->options = _data_->_tmp8_;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp10_ = NULL;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp10_ = _data_->self->priv->_slot;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp11_ = 0;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp11_ = _data_->options;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp12_ = NULL;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp12_ = _data_->cancellable;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_state_ = 2;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		gck_slot_open_session_async (_data_->_tmp10_, _data_->_tmp11_ | GCK_SESSION_LOGIN_USER, _data_->_tmp12_, seahorse_pkcs11_token_unlock_ready, _data_);
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 808 "pkcs11-token.c"
		_state_2:
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp13_ = NULL;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp13_ = gck_slot_open_session_finish (_data_->_tmp10_, _data_->_res_, &_data_->_inner_error_);
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp9_ = _data_->_tmp13_;
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_inner_error_ != NULL) {
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_set_from_error (_data_->_async_result, _data_->_inner_error_);
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_error_free (_data_->_inner_error_);
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (_data_->_state_ == 0) {
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 826 "pkcs11-token.c"
			} else {
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_simple_async_result_complete (_data_->_async_result);
#line 830 "pkcs11-token.c"
			}
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_object_unref (_data_->_async_result);
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			return FALSE;
#line 836 "pkcs11-token.c"
		}
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_object_unref0 (_data_->self->priv->_session);
#line 170 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->self->priv->_session = _data_->_tmp9_;
#line 172 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->result = TRUE;
#line 172 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_state_ == 0) {
#line 172 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 848 "pkcs11-token.c"
		} else {
#line 172 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 852 "pkcs11-token.c"
		}
#line 172 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_unref (_data_->_async_result);
#line 172 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 858 "pkcs11-token.c"
	}
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_state_ == 0) {
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 864 "pkcs11-token.c"
	} else {
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 868 "pkcs11-token.c"
	}
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_unref (_data_->_async_result);
#line 162 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return FALSE;
#line 874 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_contains (GcrCollection* base, GObject* object) {
	SeahorsePkcs11Token * self;
	gboolean result = FALSE;
	GHashTable* _tmp0_ = NULL;
	GObject* _tmp1_ = NULL;
	gconstpointer _tmp2_ = NULL;
#line 176 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 176 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (object != NULL, FALSE);
#line 177 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_objects_visible;
#line 177 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = object;
#line 177 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = g_hash_table_lookup (_tmp0_, _tmp1_);
#line 177 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = ((GObject*) _tmp2_) != NULL;
#line 177 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 898 "pkcs11-token.c"
}


static guint seahorse_pkcs11_token_real_get_length (GcrCollection* base) {
	SeahorsePkcs11Token * self;
	guint result = 0U;
	GHashTable* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
#line 180 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 181 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_objects_visible;
#line 181 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = g_hash_table_size (_tmp0_);
#line 181 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp1_;
#line 181 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 917 "pkcs11-token.c"
}


static GList* seahorse_pkcs11_token_real_get_objects (GcrCollection* base) {
	SeahorsePkcs11Token * self;
	GList* result = NULL;
	GHashTable* _tmp0_ = NULL;
	GList* _tmp1_ = NULL;
#line 184 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 185 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_objects_visible;
#line 185 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = g_hash_table_get_values (_tmp0_);
#line 185 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp1_;
#line 185 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 936 "pkcs11-token.c"
}


static void _vala_GckAttributes_free (GckAttributes* self) {
#line 200 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_boxed_free (gck_attributes_get_type (), self);
#line 943 "pkcs11-token.c"
}


gboolean seahorse_pkcs11_token_is_deletable (SeahorsePkcs11Token* self, GckObject* object) {
	gboolean result = FALSE;
	GckTokenInfo* _tmp0_ = NULL;
	gulong _tmp1_ = 0UL;
	GckAttributes* attributes = NULL;
	GckObject* _tmp2_ = NULL;
	GckAttributes* _tmp3_ = NULL;
#line 188 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 188 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (object != NULL, FALSE);
#line 189 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_ensure_token_info (self);
#line 191 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_info;
#line 191 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _tmp0_->flags;
#line 191 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if ((_tmp1_ & CKF_WRITE_PROTECTED) == CKF_WRITE_PROTECTED) {
#line 192 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = FALSE;
#line 192 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 970 "pkcs11-token.c"
	}
#line 195 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = object;
#line 195 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_get ((GObject*) _tmp2_, "attributes", &attributes, NULL);
#line 197 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = attributes;
#line 197 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp3_ != NULL) {
#line 980 "pkcs11-token.c"
		gboolean ret = FALSE;
		GckAttributes* _tmp4_ = NULL;
		gboolean _tmp5_ = FALSE;
#line 198 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		ret = TRUE;
#line 199 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp4_ = attributes;
#line 199 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		gck_attributes_find_boolean (_tmp4_, CKA_MODIFIABLE, &_tmp5_);
#line 199 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		ret = _tmp5_;
#line 200 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = ret;
#line 200 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		__vala_GckAttributes_free0 (attributes);
#line 200 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 998 "pkcs11-token.c"
	}
#line 203 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = FALSE;
#line 203 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckAttributes_free0 (attributes);
#line 203 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 1006 "pkcs11-token.c"
}


static void _g_object_unref0_ (gpointer var) {
#line 206 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 1013 "pkcs11-token.c"
}


static void _g_list_free__g_object_unref0_ (GList* self) {
#line 206 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
#line 206 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_list_free (self);
#line 1022 "pkcs11-token.c"
}


void seahorse_pkcs11_token_remove_object (SeahorsePkcs11Token* self, GckObject* object) {
	GList* objects = NULL;
	GckObject* _tmp0_ = NULL;
	GckObject* _tmp1_ = NULL;
#line 206 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 206 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (object != NULL);
#line 207 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	objects = NULL;
#line 208 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = object;
#line 208 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 208 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	objects = g_list_append (objects, _tmp1_);
#line 209 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_remove_objects (self, objects);
#line 206 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__g_list_free__g_object_unref0_0 (objects);
#line 1046 "pkcs11-token.c"
}


gboolean seahorse_pkcs11_token_has_mechanism (SeahorsePkcs11Token* self, gulong mechanism) {
	gboolean result = FALSE;
	GArray* _tmp0_ = NULL;
	GArray* _tmp1_ = NULL;
	gulong _tmp2_ = 0UL;
	gboolean _tmp3_ = FALSE;
#line 212 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 213 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = seahorse_pkcs11_token_get_mechanisms (self);
#line 213 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _tmp0_;
#line 213 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = mechanism;
#line 213 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = gck_mechanisms_check (_tmp1_, _tmp2_, GCK_INVALID, NULL);
#line 213 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp3_;
#line 213 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 1070 "pkcs11-token.c"
}


static void _vala_GckSessionInfo_free (GckSessionInfo* self) {
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_boxed_free (gck_session_info_get_type (), self);
#line 1077 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_is_session_logged_in (GckSession* session) {
	gboolean result = FALSE;
	GckSession* _tmp0_ = NULL;
	GckSessionInfo* info = NULL;
	GckSession* _tmp1_ = NULL;
	GckSessionInfo* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	GckSessionInfo* _tmp4_ = NULL;
	gboolean _tmp15_ = FALSE;
#line 217 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = session;
#line 217 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp0_ == NULL) {
#line 218 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = FALSE;
#line 218 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 1098 "pkcs11-token.c"
	}
#line 219 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = session;
#line 219 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = gck_session_get_info (_tmp1_);
#line 219 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	info = _tmp2_;
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = info;
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp4_ != NULL) {
#line 1110 "pkcs11-token.c"
		gboolean _tmp5_ = FALSE;
		gboolean _tmp6_ = FALSE;
		GckSessionInfo* _tmp7_ = NULL;
		gulong _tmp8_ = 0UL;
		gboolean _tmp11_ = FALSE;
		gboolean _tmp14_ = FALSE;
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp7_ = info;
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp8_ = _tmp7_->state;
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_tmp8_ == CKS_RW_USER_FUNCTIONS) {
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp6_ = TRUE;
#line 1125 "pkcs11-token.c"
		} else {
			GckSessionInfo* _tmp9_ = NULL;
			gulong _tmp10_ = 0UL;
#line 222 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp9_ = info;
#line 222 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp10_ = _tmp9_->state;
#line 222 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp6_ = _tmp10_ == CKS_RO_USER_FUNCTIONS;
#line 1135 "pkcs11-token.c"
		}
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp11_ = _tmp6_;
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_tmp11_) {
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp5_ = TRUE;
#line 1143 "pkcs11-token.c"
		} else {
			GckSessionInfo* _tmp12_ = NULL;
			gulong _tmp13_ = 0UL;
#line 223 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp12_ = info;
#line 223 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp13_ = _tmp12_->state;
#line 223 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp5_ = _tmp13_ == CKS_RW_SO_FUNCTIONS;
#line 1153 "pkcs11-token.c"
		}
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp14_ = _tmp5_;
#line 221 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp3_ = _tmp14_;
#line 1159 "pkcs11-token.c"
	} else {
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp3_ = FALSE;
#line 1163 "pkcs11-token.c"
	}
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp15_ = _tmp3_;
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp15_;
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckSessionInfo_free0 (info);
#line 220 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 1173 "pkcs11-token.c"
}


static GckTokenInfo* seahorse_pkcs11_token_ensure_token_info (SeahorsePkcs11Token* self) {
	GckTokenInfo* result = NULL;
	GckTokenInfo* _tmp0_ = NULL;
	GckTokenInfo* _tmp1_ = NULL;
#line 226 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 227 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_info;
#line 227 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp0_ == NULL) {
#line 228 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		seahorse_pkcs11_token_update_token_info (self);
#line 1189 "pkcs11-token.c"
	}
#line 229 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = self->priv->_info;
#line 229 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp1_;
#line 229 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 1197 "pkcs11-token.c"
}


static GckTokenInfo* _vala_GckTokenInfo_copy (GckTokenInfo* self) {
#line 235 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return g_boxed_copy (gck_token_info_get_type (), self);
#line 1204 "pkcs11-token.c"
}


static gpointer __vala_GckTokenInfo_copy0 (gpointer self) {
#line 235 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return self ? _vala_GckTokenInfo_copy (self) : NULL;
#line 1211 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_update_token_info (SeahorsePkcs11Token* self) {
	GckTokenInfo* info = NULL;
	GckSlot* _tmp0_ = NULL;
	GckTokenInfo* _tmp1_ = NULL;
	GckTokenInfo* _tmp2_ = NULL;
#line 232 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 233 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_slot;
#line 233 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = gck_slot_get_token_info (_tmp0_);
#line 233 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	info = _tmp1_;
#line 234 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = info;
#line 234 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp2_ != NULL) {
#line 1232 "pkcs11-token.c"
		GckTokenInfo* _tmp3_ = NULL;
		GckTokenInfo* _tmp4_ = NULL;
#line 235 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp3_ = info;
#line 235 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp4_ = __vala_GckTokenInfo_copy0 (_tmp3_);
#line 235 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		__vala_GckTokenInfo_free0 (self->priv->_info);
#line 235 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		self->priv->_info = _tmp4_;
#line 236 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_notify ((GObject*) self, "info");
#line 237 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_notify ((GObject*) self, "lockable");
#line 238 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_object_notify ((GObject*) self, "unlockable");
#line 1249 "pkcs11-token.c"
	}
#line 232 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckTokenInfo_free0 (info);
#line 1253 "pkcs11-token.c"
}


static GckAttribute* _vala_GckAttribute_copy (GckAttribute* self) {
#line 247 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return g_boxed_copy (gck_attribute_get_type (), self);
#line 1260 "pkcs11-token.c"
}


static gpointer __vala_GckAttribute_copy0 (gpointer self) {
#line 247 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return self ? _vala_GckAttribute_copy (self) : NULL;
#line 1267 "pkcs11-token.c"
}


static gpointer _g_ptr_array_ref0 (gpointer self) {
#line 267 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return self ? g_ptr_array_ref (self) : NULL;
#line 1274 "pkcs11-token.c"
}


static gint g_ptr_array_get_length (GPtrArray* self) {
	gint result;
	guint _tmp0_ = 0U;
#line 4239 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 4239 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp0_ = self->len;
#line 4239 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	result = (gint) _tmp0_;
#line 4239 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	return result;
#line 1289 "pkcs11-token.c"
}


static void g_ptr_array_set_length (GPtrArray* self, gint value) {
	gint _tmp0_ = 0;
#line 4240 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	g_return_if_fail (self != NULL);
#line 4240 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp0_ = value;
#line 4240 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	g_ptr_array_set_size (self, _tmp0_);
#line 1301 "pkcs11-token.c"
}


static void _vala_GckAttribute_free (GckAttribute* self) {
#line 242 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_boxed_free (gck_attribute_get_type (), self);
#line 1308 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_update_id_map (SeahorsePkcs11Token* self, GObject* object, GckAttribute* id) {
	gboolean add = FALSE;
	gboolean remove = FALSE;
	GckAttribute* pid = NULL;
	GHashTable* _tmp0_ = NULL;
	GObject* _tmp1_ = NULL;
	gconstpointer _tmp2_ = NULL;
	GckAttribute* _tmp3_ = NULL;
	GckAttribute* _tmp4_ = NULL;
	gboolean _tmp11_ = FALSE;
	gboolean _tmp31_ = FALSE;
#line 242 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 242 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (object != NULL);
#line 244 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	add = FALSE;
#line 245 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	remove = FALSE;
#line 247 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_id_for_object;
#line 247 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = object;
#line 247 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = g_hash_table_lookup (_tmp0_, _tmp1_);
#line 247 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = __vala_GckAttribute_copy0 ((GckAttribute*) _tmp2_);
#line 247 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	pid = _tmp3_;
#line 248 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = id;
#line 248 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp4_ == NULL) {
#line 1345 "pkcs11-token.c"
		GckAttribute* _tmp5_ = NULL;
#line 249 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp5_ = pid;
#line 249 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_tmp5_ != NULL) {
#line 1351 "pkcs11-token.c"
			GckAttribute* _tmp6_ = NULL;
#line 250 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp6_ = pid;
#line 250 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			id = _tmp6_;
#line 251 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			remove = TRUE;
#line 1359 "pkcs11-token.c"
		}
	} else {
		GckAttribute* _tmp7_ = NULL;
#line 254 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp7_ = pid;
#line 254 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_tmp7_ == NULL) {
#line 255 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			add = TRUE;
#line 1369 "pkcs11-token.c"
		} else {
			GckAttribute* _tmp8_ = NULL;
			GckAttribute* _tmp9_ = NULL;
			gboolean _tmp10_ = FALSE;
#line 256 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp8_ = id;
#line 256 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp9_ = pid;
#line 256 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp10_ = gck_attribute_equal (_tmp8_, _tmp9_);
#line 256 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (!_tmp10_) {
#line 257 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				remove = TRUE;
#line 258 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				add = TRUE;
#line 1386 "pkcs11-token.c"
			}
		}
	}
#line 262 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp11_ = add;
#line 262 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp11_) {
#line 1394 "pkcs11-token.c"
		GPtrArray* objects = NULL;
		GHashTable* _tmp12_ = NULL;
		GckAttribute* _tmp13_ = NULL;
		gconstpointer _tmp14_ = NULL;
		GPtrArray* _tmp15_ = NULL;
		GPtrArray* _tmp23_ = NULL;
		GObject* _tmp24_ = NULL;
		GObject* _tmp25_ = NULL;
		GHashTable* _tmp26_ = NULL;
		GObject* _tmp27_ = NULL;
		GObject* _tmp28_ = NULL;
		GckAttribute* _tmp29_ = NULL;
		GckAttribute* _tmp30_ = NULL;
#line 264 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp12_ = self->priv->_objects_for_id;
#line 264 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp13_ = id;
#line 264 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp14_ = g_hash_table_lookup (_tmp12_, _tmp13_);
#line 264 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		objects = (GPtrArray*) _tmp14_;
#line 265 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp15_ = objects;
#line 265 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_tmp15_ == NULL) {
#line 1420 "pkcs11-token.c"
			GPtrArray* objs = NULL;
			GPtrArray* _tmp16_ = NULL;
			GHashTable* _tmp17_ = NULL;
			GckAttribute* _tmp18_ = NULL;
			GckAttribute* _tmp19_ = NULL;
			GPtrArray* _tmp20_ = NULL;
			GPtrArray* _tmp21_ = NULL;
			GPtrArray* _tmp22_ = NULL;
#line 266 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp16_ = g_ptr_array_new_with_free_func (_g_object_unref0_);
#line 266 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			objs = _tmp16_;
#line 267 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp17_ = self->priv->_objects_for_id;
#line 267 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp18_ = id;
#line 267 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp19_ = __vala_GckAttribute_copy0 (_tmp18_);
#line 267 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp20_ = objs;
#line 267 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp21_ = _g_ptr_array_ref0 (_tmp20_);
#line 267 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_hash_table_insert (_tmp17_, _tmp19_, _tmp21_);
#line 268 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp22_ = objs;
#line 268 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			objects = _tmp22_;
#line 265 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_g_ptr_array_unref0 (objs);
#line 1451 "pkcs11-token.c"
		}
#line 270 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp23_ = objects;
#line 270 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp24_ = object;
#line 270 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp25_ = _g_object_ref0 (_tmp24_);
#line 270 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_ptr_array_add (_tmp23_, _tmp25_);
#line 271 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp26_ = self->priv->_id_for_object;
#line 271 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp27_ = object;
#line 271 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp28_ = _g_object_ref0 (_tmp27_);
#line 271 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp29_ = id;
#line 271 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp30_ = __vala_GckAttribute_copy0 (_tmp29_);
#line 271 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_hash_table_insert (_tmp26_, _tmp28_, _tmp30_);
#line 1473 "pkcs11-token.c"
	}
#line 275 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp31_ = remove;
#line 275 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp31_) {
#line 1479 "pkcs11-token.c"
		GHashTable* _tmp32_ = NULL;
		GObject* _tmp33_ = NULL;
		gboolean _tmp34_ = FALSE;
		GPtrArray* objects = NULL;
		GHashTable* _tmp35_ = NULL;
		GckAttribute* _tmp36_ = NULL;
		gconstpointer _tmp37_ = NULL;
		GPtrArray* _tmp38_ = NULL;
		GPtrArray* _tmp39_ = NULL;
		GPtrArray* _tmp40_ = NULL;
		gint _tmp41_ = 0;
		gint _tmp42_ = 0;
		GPtrArray* _tmp43_ = NULL;
		gint _tmp44_ = 0;
		gint _tmp45_ = 0;
#line 276 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp32_ = self->priv->_id_for_object;
#line 276 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp33_ = object;
#line 276 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp34_ = g_hash_table_remove (_tmp32_, _tmp33_);
#line 276 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (!_tmp34_) {
#line 277 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_assert_not_reached ();
#line 1505 "pkcs11-token.c"
		}
#line 278 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp35_ = self->priv->_objects_for_id;
#line 278 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp36_ = id;
#line 278 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp37_ = g_hash_table_lookup (_tmp35_, _tmp36_);
#line 278 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp38_ = _g_ptr_array_ref0 ((GPtrArray*) _tmp37_);
#line 278 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		objects = _tmp38_;
#line 279 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp39_ = objects;
#line 279 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_vala_assert (_tmp39_ != NULL, "objects != null");
#line 280 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp40_ = objects;
#line 280 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp41_ = g_ptr_array_get_length (_tmp40_);
#line 280 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp42_ = _tmp41_;
#line 280 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_vala_assert (_tmp42_ > 0, "objects.length > 0");
#line 281 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp43_ = objects;
#line 281 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp44_ = g_ptr_array_get_length (_tmp43_);
#line 281 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp45_ = _tmp44_;
#line 281 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_tmp45_ == 1) {
#line 1537 "pkcs11-token.c"
			GHashTable* _tmp46_ = NULL;
			GckAttribute* _tmp47_ = NULL;
			gboolean _tmp48_ = FALSE;
#line 282 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp46_ = self->priv->_objects_for_id;
#line 282 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp47_ = id;
#line 282 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp48_ = g_hash_table_remove (_tmp46_, _tmp47_);
#line 282 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (!_tmp48_) {
#line 283 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_assert_not_reached ();
#line 1551 "pkcs11-token.c"
			}
		} else {
			GPtrArray* _tmp49_ = NULL;
			GObject* _tmp50_ = NULL;
			gboolean _tmp51_ = FALSE;
#line 285 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp49_ = objects;
#line 285 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp50_ = object;
#line 285 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp51_ = g_ptr_array_remove (_tmp49_, _tmp50_);
#line 285 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (!_tmp51_) {
#line 286 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_assert_not_reached ();
#line 1567 "pkcs11-token.c"
			}
		}
#line 275 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_ptr_array_unref0 (objects);
#line 1572 "pkcs11-token.c"
	}
#line 242 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckAttribute_free0 (pid);
#line 1576 "pkcs11-token.c"
}


static GObject* seahorse_pkcs11_token_lookup_id_map (SeahorsePkcs11Token* self, GType object_type, GckAttribute* id) {
	GObject* result = NULL;
	GckAttribute* _tmp0_ = NULL;
	GPtrArray* objects = NULL;
	GHashTable* _tmp1_ = NULL;
	GckAttribute* _tmp2_ = NULL;
	gconstpointer _tmp3_ = NULL;
	GPtrArray* _tmp4_ = NULL;
	GPtrArray* _tmp5_ = NULL;
#line 291 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 293 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = id;
#line 293 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp0_ == NULL) {
#line 294 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = NULL;
#line 294 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 1599 "pkcs11-token.c"
	}
#line 295 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = self->priv->_objects_for_id;
#line 295 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = id;
#line 295 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = g_hash_table_lookup (_tmp1_, _tmp2_);
#line 295 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = _g_ptr_array_ref0 ((GPtrArray*) _tmp3_);
#line 295 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	objects = _tmp4_;
#line 296 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = objects;
#line 296 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp5_ == NULL) {
#line 297 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = NULL;
#line 297 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_ptr_array_unref0 (objects);
#line 297 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 1621 "pkcs11-token.c"
	}
	{
		gint i = 0;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		i = 0;
#line 1627 "pkcs11-token.c"
		{
			gboolean _tmp6_ = FALSE;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp6_ = TRUE;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			while (TRUE) {
#line 1634 "pkcs11-token.c"
				gboolean _tmp7_ = FALSE;
				gint _tmp9_ = 0;
				GPtrArray* _tmp10_ = NULL;
				gint _tmp11_ = 0;
				gint _tmp12_ = 0;
				GPtrArray* _tmp13_ = NULL;
				gint _tmp14_ = 0;
				gconstpointer _tmp15_ = NULL;
				GType _tmp16_ = 0UL;
				GType _tmp17_ = 0UL;
				gboolean _tmp18_ = FALSE;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp7_ = _tmp6_;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (!_tmp7_) {
#line 1650 "pkcs11-token.c"
					gint _tmp8_ = 0;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp8_ = i;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					i = _tmp8_ + 1;
#line 1656 "pkcs11-token.c"
				}
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp6_ = FALSE;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp9_ = i;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp10_ = objects;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp11_ = g_ptr_array_get_length (_tmp10_);
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp12_ = _tmp11_;
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (!(_tmp9_ < _tmp12_)) {
#line 298 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					break;
#line 1672 "pkcs11-token.c"
				}
#line 299 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp13_ = objects;
#line 299 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp14_ = i;
#line 299 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp15_ = g_ptr_array_index (_tmp13_, (guint) _tmp14_);
#line 299 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp16_ = G_TYPE_FROM_INSTANCE ((GObject*) _tmp15_);
#line 299 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp17_ = object_type;
#line 299 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp18_ = g_type_is_a (_tmp16_, _tmp17_);
#line 299 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (_tmp18_) {
#line 1688 "pkcs11-token.c"
					GPtrArray* _tmp19_ = NULL;
					gint _tmp20_ = 0;
					gconstpointer _tmp21_ = NULL;
					GObject* _tmp22_ = NULL;
#line 300 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp19_ = objects;
#line 300 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp20_ = i;
#line 300 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp21_ = g_ptr_array_index (_tmp19_, (guint) _tmp20_);
#line 300 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp22_ = _g_object_ref0 ((GObject*) _tmp21_);
#line 300 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					result = _tmp22_;
#line 300 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_g_ptr_array_unref0 (objects);
#line 300 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					return result;
#line 1707 "pkcs11-token.c"
				}
			}
		}
	}
#line 302 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = NULL;
#line 302 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_ptr_array_unref0 (objects);
#line 302 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 1718 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_update_visibility (SeahorsePkcs11Token* self, GList* objects, gboolean visible) {
	GList* _tmp0_ = NULL;
#line 305 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 307 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = objects;
#line 1728 "pkcs11-token.c"
	{
		GList* object_collection = NULL;
		GList* object_it = NULL;
#line 307 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		object_collection = _tmp0_;
#line 307 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		for (object_it = object_collection; object_it != NULL; object_it = object_it->next) {
#line 1736 "pkcs11-token.c"
			GObject* _tmp1_ = NULL;
			GObject* object = NULL;
#line 307 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp1_ = _g_object_ref0 ((GObject*) object_it->data);
#line 307 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			object = _tmp1_;
#line 1743 "pkcs11-token.c"
			{
				gboolean have = FALSE;
				GHashTable* _tmp2_ = NULL;
				GObject* _tmp3_ = NULL;
				gconstpointer _tmp4_ = NULL;
				gboolean _tmp5_ = FALSE;
				gboolean _tmp6_ = FALSE;
				gboolean _tmp8_ = FALSE;
#line 308 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp2_ = self->priv->_objects_visible;
#line 308 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp3_ = object;
#line 308 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp4_ = g_hash_table_lookup (_tmp2_, _tmp3_);
#line 308 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				have = ((GObject*) _tmp4_) != NULL;
#line 309 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp6_ = have;
#line 309 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (!_tmp6_) {
#line 1764 "pkcs11-token.c"
					gboolean _tmp7_ = FALSE;
#line 309 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp7_ = visible;
#line 309 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp5_ = _tmp7_;
#line 1770 "pkcs11-token.c"
				} else {
#line 309 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp5_ = FALSE;
#line 1774 "pkcs11-token.c"
				}
#line 309 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp8_ = _tmp5_;
#line 309 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (_tmp8_) {
#line 1780 "pkcs11-token.c"
					GHashTable* _tmp9_ = NULL;
					GObject* _tmp10_ = NULL;
					GObject* _tmp11_ = NULL;
					GObject* _tmp12_ = NULL;
					GObject* _tmp13_ = NULL;
					GObject* _tmp14_ = NULL;
#line 310 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp9_ = self->priv->_objects_visible;
#line 310 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp10_ = object;
#line 310 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp11_ = _g_object_ref0 (_tmp10_);
#line 310 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp12_ = object;
#line 310 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp13_ = _g_object_ref0 (_tmp12_);
#line 310 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					g_hash_table_insert (_tmp9_, _tmp11_, _tmp13_);
#line 311 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp14_ = object;
#line 311 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					gcr_collection_emit_added ((GcrCollection*) self, _tmp14_);
#line 1803 "pkcs11-token.c"
				} else {
					gboolean _tmp15_ = FALSE;
					gboolean _tmp16_ = FALSE;
					gboolean _tmp18_ = FALSE;
#line 312 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp16_ = have;
#line 312 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					if (_tmp16_) {
#line 1812 "pkcs11-token.c"
						gboolean _tmp17_ = FALSE;
#line 312 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp17_ = visible;
#line 312 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp15_ = !_tmp17_;
#line 1818 "pkcs11-token.c"
					} else {
#line 312 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp15_ = FALSE;
#line 1822 "pkcs11-token.c"
					}
#line 312 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp18_ = _tmp15_;
#line 312 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					if (_tmp18_) {
#line 1828 "pkcs11-token.c"
						GHashTable* _tmp19_ = NULL;
						GObject* _tmp20_ = NULL;
						gboolean _tmp21_ = FALSE;
						GObject* _tmp22_ = NULL;
#line 313 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp19_ = self->priv->_objects_visible;
#line 313 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp20_ = object;
#line 313 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp21_ = g_hash_table_remove (_tmp19_, _tmp20_);
#line 313 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						if (!_tmp21_) {
#line 314 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							g_assert_not_reached ();
#line 1843 "pkcs11-token.c"
						}
#line 315 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp22_ = object;
#line 315 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						gcr_collection_emit_removed ((GcrCollection*) self, _tmp22_);
#line 1849 "pkcs11-token.c"
					}
				}
#line 307 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (object);
#line 1854 "pkcs11-token.c"
			}
		}
	}
}


static gboolean seahorse_pkcs11_token_make_certificate_key_pair (SeahorsePkcs11Certificate* certificate, SeahorsePkcs11PrivateKey* private_key) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	SeahorsePkcs11Certificate* _tmp1_ = NULL;
	SeahorsePkcs11PrivateKey* _tmp2_ = NULL;
	SeahorsePkcs11PrivateKey* _tmp3_ = NULL;
	SeahorsePkcs11PrivateKey* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp10_ = FALSE;
	SeahorsePkcs11Certificate* _tmp11_ = NULL;
	SeahorsePkcs11PrivateKey* _tmp12_ = NULL;
	SeahorsePkcs11PrivateKey* _tmp13_ = NULL;
	SeahorsePkcs11Certificate* _tmp14_ = NULL;
#line 321 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (certificate != NULL, FALSE);
#line 321 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (private_key != NULL, FALSE);
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = certificate;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = seahorse_pkcs11_certificate_get_partner (_tmp1_);
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = _tmp2_;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = _tmp3_;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = _tmp4_ != NULL;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_tmp4_);
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp5_) {
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp0_ = TRUE;
#line 1894 "pkcs11-token.c"
	} else {
		SeahorsePkcs11PrivateKey* _tmp6_ = NULL;
		SeahorsePkcs11Certificate* _tmp7_ = NULL;
		SeahorsePkcs11Certificate* _tmp8_ = NULL;
		SeahorsePkcs11Certificate* _tmp9_ = NULL;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp6_ = private_key;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp7_ = seahorse_pkcs11_private_key_get_partner (_tmp6_);
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp8_ = _tmp7_;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp9_ = _tmp8_;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp0_ = _tmp9_ != NULL;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_object_unref0 (_tmp9_);
#line 1912 "pkcs11-token.c"
	}
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp10_ = _tmp0_;
#line 323 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp10_) {
#line 324 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = FALSE;
#line 324 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 1922 "pkcs11-token.c"
	}
#line 325 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp11_ = certificate;
#line 325 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp12_ = private_key;
#line 325 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_certificate_set_partner (_tmp11_, _tmp12_);
#line 326 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp13_ = private_key;
#line 326 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp14_ = certificate;
#line 326 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_private_key_set_partner (_tmp13_, _tmp14_);
#line 327 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = TRUE;
#line 327 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 1940 "pkcs11-token.c"
}


static GObject* seahorse_pkcs11_token_break_certificate_key_pair (GObject* object) {
	GObject* result = NULL;
	GObject* pair = NULL;
	GObject* _tmp0_ = NULL;
#line 330 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (object != NULL, NULL);
#line 331 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	pair = NULL;
#line 332 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = object;
#line 332 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, SEAHORSE_PKCS11_TYPE_CERTIFICATE)) {
#line 1956 "pkcs11-token.c"
		SeahorsePkcs11Certificate* certificate = NULL;
		GObject* _tmp1_ = NULL;
		SeahorsePkcs11Certificate* _tmp2_ = NULL;
		SeahorsePkcs11Certificate* _tmp3_ = NULL;
		SeahorsePkcs11PrivateKey* _tmp4_ = NULL;
		SeahorsePkcs11PrivateKey* _tmp5_ = NULL;
		SeahorsePkcs11Certificate* _tmp6_ = NULL;
#line 333 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp1_ = object;
#line 333 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11Certificate));
#line 333 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		certificate = _tmp2_;
#line 334 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp3_ = certificate;
#line 334 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp4_ = seahorse_pkcs11_certificate_get_partner (_tmp3_);
#line 334 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp5_ = _tmp4_;
#line 334 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_object_unref0 (pair);
#line 334 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		pair = (GObject*) _tmp5_;
#line 335 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp6_ = certificate;
#line 335 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		seahorse_pkcs11_certificate_set_partner (_tmp6_, NULL);
#line 332 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_object_unref0 (certificate);
#line 1986 "pkcs11-token.c"
	} else {
		GObject* _tmp7_ = NULL;
#line 336 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp7_ = object;
#line 336 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY)) {
#line 1993 "pkcs11-token.c"
			SeahorsePkcs11PrivateKey* private_key = NULL;
			GObject* _tmp8_ = NULL;
			SeahorsePkcs11PrivateKey* _tmp9_ = NULL;
			SeahorsePkcs11PrivateKey* _tmp10_ = NULL;
			SeahorsePkcs11Certificate* _tmp11_ = NULL;
			SeahorsePkcs11Certificate* _tmp12_ = NULL;
			SeahorsePkcs11PrivateKey* _tmp13_ = NULL;
#line 337 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp8_ = object;
#line 337 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp9_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY, SeahorsePkcs11PrivateKey));
#line 337 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			private_key = _tmp9_;
#line 338 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp10_ = private_key;
#line 338 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp11_ = seahorse_pkcs11_private_key_get_partner (_tmp10_);
#line 338 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp12_ = _tmp11_;
#line 338 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_g_object_unref0 (pair);
#line 338 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			pair = (GObject*) _tmp12_;
#line 339 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp13_ = private_key;
#line 339 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			seahorse_pkcs11_private_key_set_partner (_tmp13_, NULL);
#line 336 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_g_object_unref0 (private_key);
#line 2023 "pkcs11-token.c"
		}
	}
#line 341 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = pair;
#line 341 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 2030 "pkcs11-token.c"
}


static gulong* _ulong_dup (gulong* self) {
	gulong* dup;
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	dup = g_new0 (gulong, 1);
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	memcpy (dup, self, sizeof (gulong));
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return dup;
#line 2042 "pkcs11-token.c"
}


static gpointer __ulong_dup0 (gpointer self) {
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return self ? _ulong_dup (self) : NULL;
#line 2049 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_receive_objects (SeahorsePkcs11Token* self, GList* objects) {
	GList* show = NULL;
	GList* hide = NULL;
	GList* _tmp0_ = NULL;
	GList* _tmp62_ = NULL;
	GList* _tmp63_ = NULL;
#line 344 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 345 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	show = NULL;
#line 346 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	hide = NULL;
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = objects;
#line 2067 "pkcs11-token.c"
	{
		GList* object_collection = NULL;
		GList* object_it = NULL;
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		object_collection = _tmp0_;
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		for (object_it = object_collection; object_it != NULL; object_it = object_it->next) {
#line 2075 "pkcs11-token.c"
			GObject* _tmp1_ = NULL;
			GObject* object = NULL;
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp1_ = _g_object_ref0 ((GObject*) object_it->data);
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			object = _tmp1_;
#line 2082 "pkcs11-token.c"
			{
				gboolean _tmp2_ = FALSE;
				GObject* _tmp3_ = NULL;
				gboolean _tmp5_ = FALSE;
				gulong handle = 0UL;
				GObject* _tmp6_ = NULL;
				gulong _tmp7_ = 0UL;
				gulong _tmp8_ = 0UL;
				GckAttributes* attrs = NULL;
				GObject* _tmp9_ = NULL;
				GckAttributes* _tmp10_ = NULL;
				GckAttributes* _tmp11_ = NULL;
				GObject* prev = NULL;
				GHashTable* _tmp12_ = NULL;
				gulong _tmp13_ = 0UL;
				gconstpointer _tmp14_ = NULL;
				GObject* _tmp15_ = NULL;
				GObject* _tmp16_ = NULL;
				GckAttribute* id = NULL;
				GckAttributes* _tmp29_ = NULL;
				GObject* _tmp32_ = NULL;
				GckAttribute* _tmp33_ = NULL;
				GObject* _tmp34_ = NULL;
#line 349 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp3_ = object;
#line 349 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, gck_object_get_type ())) {
#line 2110 "pkcs11-token.c"
					GObject* _tmp4_ = NULL;
#line 349 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp4_ = object;
#line 349 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp2_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, gck_object_cache_get_type ());
#line 2116 "pkcs11-token.c"
				} else {
#line 349 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp2_ = FALSE;
#line 2120 "pkcs11-token.c"
				}
#line 349 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp5_ = _tmp2_;
#line 349 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (!_tmp5_) {
#line 350 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_g_object_unref0 (object);
#line 350 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					continue;
#line 2130 "pkcs11-token.c"
				}
#line 351 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp6_ = object;
#line 351 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp7_ = gck_object_get_handle (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gck_object_get_type (), GckObject));
#line 351 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp8_ = _tmp7_;
#line 351 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				handle = _tmp8_;
#line 352 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp9_ = object;
#line 352 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_object_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, gck_object_cache_get_type (), GckObjectCache), "attributes", &_tmp10_, NULL);
#line 352 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp11_ = _tmp10_;
#line 352 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				attrs = _tmp11_;
#line 354 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp12_ = self->priv->_object_for_handle;
#line 354 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp13_ = handle;
#line 354 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp14_ = g_hash_table_lookup (_tmp12_, &_tmp13_);
#line 354 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp15_ = _g_object_ref0 ((GObject*) _tmp14_);
#line 354 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				prev = _tmp15_;
#line 355 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp16_ = prev;
#line 355 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (_tmp16_ == NULL) {
#line 2162 "pkcs11-token.c"
					GHashTable* _tmp17_ = NULL;
					gulong _tmp18_ = 0UL;
					gulong* _tmp19_ = NULL;
					GObject* _tmp20_ = NULL;
					GObject* _tmp21_ = NULL;
					GObject* _tmp22_ = NULL;
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp17_ = self->priv->_object_for_handle;
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp18_ = handle;
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp19_ = __ulong_dup0 (&_tmp18_);
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp20_ = object;
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp21_ = _g_object_ref0 (_tmp20_);
#line 356 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					g_hash_table_insert (_tmp17_, _tmp19_, _tmp21_);
#line 357 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp22_ = object;
#line 357 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					g_object_set (_tmp22_, "place", self, NULL);
#line 2185 "pkcs11-token.c"
				} else {
					GObject* _tmp23_ = NULL;
					GObject* _tmp24_ = NULL;
#line 358 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp23_ = prev;
#line 358 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp24_ = object;
#line 358 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					if (_tmp23_ != _tmp24_) {
#line 2195 "pkcs11-token.c"
						GObject* _tmp25_ = NULL;
						GckAttributes* _tmp26_ = NULL;
						GObject* _tmp27_ = NULL;
						GObject* _tmp28_ = NULL;
#line 359 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp25_ = object;
#line 359 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp26_ = attrs;
#line 359 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						g_object_set (_tmp25_, "attributes", _tmp26_, NULL);
#line 360 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp27_ = prev;
#line 360 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp28_ = _g_object_ref0 (_tmp27_);
#line 360 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_g_object_unref0 (object);
#line 360 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						object = _tmp28_;
#line 2214 "pkcs11-token.c"
					}
				}
#line 363 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				id = NULL;
#line 364 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp29_ = attrs;
#line 364 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (_tmp29_ != NULL) {
#line 2223 "pkcs11-token.c"
					GckAttributes* _tmp30_ = NULL;
					GckAttribute* _tmp31_ = NULL;
#line 365 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp30_ = attrs;
#line 365 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp31_ = gck_attributes_find (_tmp30_, CKA_ID);
#line 365 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					id = _tmp31_;
#line 2232 "pkcs11-token.c"
				}
#line 366 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp32_ = object;
#line 366 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp33_ = id;
#line 366 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				seahorse_pkcs11_token_update_id_map (self, _tmp32_, _tmp33_);
#line 368 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp34_ = object;
#line 368 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp34_, SEAHORSE_PKCS11_TYPE_CERTIFICATE)) {
#line 2244 "pkcs11-token.c"
					GObject* pair = NULL;
					GckAttribute* _tmp35_ = NULL;
					GObject* _tmp36_ = NULL;
					gboolean _tmp37_ = FALSE;
					GObject* _tmp38_ = NULL;
					gboolean _tmp42_ = FALSE;
					GObject* _tmp45_ = NULL;
					GObject* _tmp46_ = NULL;
#line 369 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp35_ = id;
#line 369 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp36_ = seahorse_pkcs11_token_lookup_id_map (self, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY, _tmp35_);
#line 369 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					pair = _tmp36_;
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp38_ = pair;
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					if (_tmp38_ != NULL) {
#line 2263 "pkcs11-token.c"
						GObject* _tmp39_ = NULL;
						GObject* _tmp40_ = NULL;
						gboolean _tmp41_ = FALSE;
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp39_ = object;
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp40_ = pair;
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp41_ = seahorse_pkcs11_token_make_certificate_key_pair (G_TYPE_CHECK_INSTANCE_CAST (_tmp39_, SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11Certificate), G_TYPE_CHECK_INSTANCE_CAST (_tmp40_, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY, SeahorsePkcs11PrivateKey));
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp37_ = _tmp41_;
#line 2275 "pkcs11-token.c"
					} else {
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp37_ = FALSE;
#line 2279 "pkcs11-token.c"
					}
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp42_ = _tmp37_;
#line 370 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					if (_tmp42_) {
#line 2285 "pkcs11-token.c"
						GObject* _tmp43_ = NULL;
						GObject* _tmp44_ = NULL;
#line 371 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp43_ = pair;
#line 371 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp44_ = _g_object_ref0 (_tmp43_);
#line 371 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						hide = g_list_prepend (hide, _tmp44_);
#line 2294 "pkcs11-token.c"
					}
#line 372 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp45_ = object;
#line 372 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp46_ = _g_object_ref0 (_tmp45_);
#line 372 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					show = g_list_prepend (show, _tmp46_);
#line 368 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_g_object_unref0 (pair);
#line 2304 "pkcs11-token.c"
				} else {
					GObject* _tmp47_ = NULL;
#line 373 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp47_ = object;
#line 373 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp47_, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY)) {
#line 2311 "pkcs11-token.c"
						GObject* pair = NULL;
						GckAttribute* _tmp48_ = NULL;
						GObject* _tmp49_ = NULL;
						gboolean _tmp50_ = FALSE;
						GObject* _tmp51_ = NULL;
						gboolean _tmp55_ = FALSE;
#line 374 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp48_ = id;
#line 374 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp49_ = seahorse_pkcs11_token_lookup_id_map (self, SEAHORSE_PKCS11_TYPE_CERTIFICATE, _tmp48_);
#line 374 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						pair = _tmp49_;
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp51_ = pair;
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						if (_tmp51_ != NULL) {
#line 2328 "pkcs11-token.c"
							GObject* _tmp52_ = NULL;
							GObject* _tmp53_ = NULL;
							gboolean _tmp54_ = FALSE;
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp52_ = pair;
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp53_ = object;
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp54_ = seahorse_pkcs11_token_make_certificate_key_pair (G_TYPE_CHECK_INSTANCE_CAST (_tmp52_, SEAHORSE_PKCS11_TYPE_CERTIFICATE, SeahorsePkcs11Certificate), G_TYPE_CHECK_INSTANCE_CAST (_tmp53_, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY, SeahorsePkcs11PrivateKey));
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp50_ = _tmp54_;
#line 2340 "pkcs11-token.c"
						} else {
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp50_ = FALSE;
#line 2344 "pkcs11-token.c"
						}
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp55_ = _tmp50_;
#line 375 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						if (_tmp55_) {
#line 2350 "pkcs11-token.c"
							GObject* _tmp56_ = NULL;
							GObject* _tmp57_ = NULL;
#line 376 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp56_ = object;
#line 376 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp57_ = _g_object_ref0 (_tmp56_);
#line 376 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							hide = g_list_prepend (hide, _tmp57_);
#line 2359 "pkcs11-token.c"
						} else {
							GObject* _tmp58_ = NULL;
							GObject* _tmp59_ = NULL;
#line 378 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp58_ = object;
#line 378 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							_tmp59_ = _g_object_ref0 (_tmp58_);
#line 378 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
							show = g_list_prepend (show, _tmp59_);
#line 2369 "pkcs11-token.c"
						}
#line 373 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_g_object_unref0 (pair);
#line 2373 "pkcs11-token.c"
					} else {
						GObject* _tmp60_ = NULL;
						GObject* _tmp61_ = NULL;
#line 380 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp60_ = object;
#line 380 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_tmp61_ = _g_object_ref0 (_tmp60_);
#line 380 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						show = g_list_prepend (show, _tmp61_);
#line 2383 "pkcs11-token.c"
					}
				}
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (prev);
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				__vala_GckAttributes_free0 (attrs);
#line 348 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (object);
#line 2392 "pkcs11-token.c"
			}
		}
	}
#line 384 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp62_ = hide;
#line 384 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_update_visibility (self, _tmp62_, FALSE);
#line 385 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp63_ = show;
#line 385 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_update_visibility (self, _tmp63_, TRUE);
#line 344 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__g_list_free__g_object_unref0_0 (hide);
#line 344 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__g_list_free__g_object_unref0_0 (show);
#line 2408 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_remove_objects (SeahorsePkcs11Token* self, GList* objects) {
	GList* depaired = NULL;
	GList* hide = NULL;
	GList* _tmp0_ = NULL;
	GList* _tmp10_ = NULL;
	GList* _tmp18_ = NULL;
	GList* _tmp19_ = NULL;
#line 388 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 389 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	depaired = NULL;
#line 390 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	hide = NULL;
#line 392 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = objects;
#line 2427 "pkcs11-token.c"
	{
		GList* object_collection = NULL;
		GList* object_it = NULL;
#line 392 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		object_collection = _tmp0_;
#line 392 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		for (object_it = object_collection; object_it != NULL; object_it = object_it->next) {
#line 2435 "pkcs11-token.c"
			GObject* _tmp1_ = NULL;
			GObject* object = NULL;
#line 392 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp1_ = _g_object_ref0 ((GObject*) object_it->data);
#line 392 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			object = _tmp1_;
#line 2442 "pkcs11-token.c"
			{
				GObject* pair = NULL;
				GObject* _tmp2_ = NULL;
				GObject* _tmp3_ = NULL;
				GObject* _tmp4_ = NULL;
				GObject* _tmp7_ = NULL;
				GObject* _tmp8_ = NULL;
				GObject* _tmp9_ = NULL;
#line 393 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp2_ = object;
#line 393 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp3_ = seahorse_pkcs11_token_break_certificate_key_pair (_tmp2_);
#line 393 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				pair = _tmp3_;
#line 394 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp4_ = pair;
#line 394 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (_tmp4_ != NULL) {
#line 2461 "pkcs11-token.c"
					GObject* _tmp5_ = NULL;
					GObject* _tmp6_ = NULL;
#line 395 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp5_ = pair;
#line 395 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_tmp6_ = _g_object_ref0 (_tmp5_);
#line 395 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					depaired = g_list_prepend (depaired, _tmp6_);
#line 2470 "pkcs11-token.c"
				}
#line 396 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp7_ = object;
#line 396 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				seahorse_pkcs11_token_update_id_map (self, _tmp7_, NULL);
#line 397 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp8_ = object;
#line 397 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp9_ = _g_object_ref0 (_tmp8_);
#line 397 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				hide = g_list_prepend (hide, _tmp9_);
#line 392 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (pair);
#line 392 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (object);
#line 2486 "pkcs11-token.c"
			}
		}
	}
#line 401 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp10_ = objects;
#line 2492 "pkcs11-token.c"
	{
		GList* object_collection = NULL;
		GList* object_it = NULL;
#line 401 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		object_collection = _tmp10_;
#line 401 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		for (object_it = object_collection; object_it != NULL; object_it = object_it->next) {
#line 2500 "pkcs11-token.c"
			GObject* _tmp11_ = NULL;
			GObject* object = NULL;
#line 401 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_tmp11_ = _g_object_ref0 ((GObject*) object_it->data);
#line 401 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			object = _tmp11_;
#line 2507 "pkcs11-token.c"
			{
				gulong handle = 0UL;
				GObject* _tmp12_ = NULL;
				gulong _tmp13_ = 0UL;
				gulong _tmp14_ = 0UL;
				GObject* _tmp15_ = NULL;
				GHashTable* _tmp16_ = NULL;
				gulong _tmp17_ = 0UL;
#line 402 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp12_ = object;
#line 402 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp13_ = gck_object_get_handle (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, gck_object_get_type (), GckObject));
#line 402 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp14_ = _tmp13_;
#line 402 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				handle = _tmp14_;
#line 403 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp15_ = object;
#line 403 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_object_set (_tmp15_, "place", NULL, NULL);
#line 404 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp16_ = self->priv->_object_for_handle;
#line 404 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_tmp17_ = handle;
#line 404 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_hash_table_remove (_tmp16_, &_tmp17_);
#line 401 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (object);
#line 2536 "pkcs11-token.c"
			}
		}
	}
#line 407 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp18_ = hide;
#line 407 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_update_visibility (self, _tmp18_, FALSE);
#line 410 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp19_ = depaired;
#line 410 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_receive_objects (self, _tmp19_);
#line 388 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__g_list_free__g_object_unref0_0 (hide);
#line 388 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__g_list_free__g_object_unref0_0 (depaired);
#line 2552 "pkcs11-token.c"
}


static GckSessionOptions seahorse_pkcs11_token_calculate_session_options (SeahorsePkcs11Token* self) {
	GckSessionOptions result = 0;
	GckTokenInfo* _tmp0_ = NULL;
	gulong _tmp1_ = 0UL;
#line 413 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 414 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_ensure_token_info (self);
#line 415 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_info;
#line 415 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _tmp0_->flags;
#line 415 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if ((_tmp1_ & CKF_WRITE_PROTECTED) == CKF_WRITE_PROTECTED) {
#line 416 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = GCK_SESSION_READ_ONLY;
#line 416 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 2574 "pkcs11-token.c"
	} else {
#line 418 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = GCK_SESSION_READ_WRITE;
#line 418 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 2580 "pkcs11-token.c"
	}
}


static void seahorse_pkcs11_token_real_load_data_free (gpointer _data) {
	SeahorsePkcs11TokenLoadData* _data_;
	_data_ = _data;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->cancellable);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->self);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_slice_free (SeahorsePkcs11TokenLoadData, _data_);
#line 2594 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_real_load (SeahorsePlace* base, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SeahorsePkcs11Token * self;
	SeahorsePkcs11TokenLoadData* _data_;
	SeahorsePkcs11Token* _tmp0_ = NULL;
	GCancellable* _tmp1_ = NULL;
	GCancellable* _tmp2_ = NULL;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = g_slice_new0 (SeahorsePkcs11TokenLoadData);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, seahorse_pkcs11_token_real_load);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, seahorse_pkcs11_token_real_load_data_free);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->self = _tmp0_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = cancellable;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->cancellable);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->cancellable = _tmp2_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_real_load_co (_data_);
#line 2626 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_load_finish (SeahorsePlace* base, GAsyncResult* _res_, GError** error) {
	gboolean result;
	SeahorsePkcs11TokenLoadData* _data_;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (g_simple_async_result_propagate_error (G_SIMPLE_ASYNC_RESULT (_res_), error)) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 2637 "pkcs11-token.c"
	}
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _data_->result;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 2645 "pkcs11-token.c"
}


static void _g_free0_ (gpointer var) {
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	(var == NULL) ? NULL : (var = (g_free (var), NULL));
#line 2652 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_load_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SeahorsePkcs11TokenLoadData* _data_;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_ = _user_data_;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_source_object_ = source_object;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_res_ = _res_;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_real_load_co (_data_);
#line 2666 "pkcs11-token.c"
}


static void _vala_GckBuilder_free (GckBuilder* self) {
#line 452 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_boxed_free (gck_builder_get_type (), self);
#line 2673 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_load_co (SeahorsePkcs11TokenLoadData* _data_) {
#line 440 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	static const gulong CERTIFICATE_ATTRS[] = {CKA_VALUE, CKA_ID, CKA_LABEL, CKA_CLASS, CKA_CERTIFICATE_CATEGORY, CKA_MODIFIABLE};
#line 456 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	static const gulong KEY_ATTRS[] = {CKA_MODULUS_BITS, CKA_ID, CKA_LABEL, CKA_CLASS, CKA_KEY_TYPE, CKA_MODIFIABLE};
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	switch (_data_->_state_) {
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 0:
#line 2686 "pkcs11-token.c"
		goto _state_0;
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 1:
#line 2690 "pkcs11-token.c"
		goto _state_1;
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case 2:
#line 2694 "pkcs11-token.c"
		goto _state_2;
		default:
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_assert_not_reached ();
#line 2699 "pkcs11-token.c"
	}
	_state_0:
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp0_ = NULL;
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp0_ = seahorse_ulong_hash;
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp1_ = NULL;
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp1_ = seahorse_ulong_equal;
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp2_ = NULL;
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp2_ = g_hash_table_new_full (_data_->_tmp0_, _data_->_tmp1_, _g_free0_, _g_object_unref0_);
#line 422 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->checks = _data_->_tmp2_;
#line 425 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_update_token_info (_data_->self);
#line 426 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp3_ = NULL;
#line 426 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp3_ = gcr_collection_get_objects ((GcrCollection*) _data_->self);
#line 2722 "pkcs11-token.c"
	{
#line 426 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->object_collection = _data_->_tmp3_;
#line 426 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		for (_data_->object_it = _data_->object_collection; _data_->object_it != NULL; _data_->object_it = _data_->object_it->next) {
#line 426 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->object = (GObject*) _data_->object_it->data;
#line 2730 "pkcs11-token.c"
			{
#line 427 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp4_ = NULL;
#line 427 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp4_ = _data_->object;
#line 427 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp5_ = 0UL;
#line 427 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp5_ = gck_object_get_handle (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp4_, gck_object_get_type (), GckObject));
#line 427 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp6_ = 0UL;
#line 427 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp6_ = _data_->_tmp5_;
#line 427 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->handle = _data_->_tmp6_;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp7_ = NULL;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp7_ = _data_->checks;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp8_ = 0UL;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp8_ = _data_->handle;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp9_ = NULL;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp9_ = __ulong_dup0 (&_data_->_tmp8_);
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp10_ = NULL;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp10_ = _data_->object;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp11_ = NULL;
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp11_ = _g_object_ref0 (_data_->_tmp10_);
#line 428 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_hash_table_insert (_data_->_tmp7_, _data_->_tmp9_, _data_->_tmp11_);
#line 2768 "pkcs11-token.c"
			}
		}
#line 426 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_list_free0 (_data_->object_collection);
#line 2773 "pkcs11-token.c"
	}
#line 431 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp12_ = NULL;
#line 431 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp12_ = _data_->self->priv->_session;
#line 431 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_tmp12_ == NULL) {
#line 432 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp13_ = 0;
#line 432 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp13_ = seahorse_pkcs11_token_calculate_session_options (_data_->self);
#line 432 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->options = _data_->_tmp13_;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp15_ = NULL;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp15_ = _data_->self->priv->_slot;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp16_ = 0;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp16_ = _data_->options;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp17_ = NULL;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp17_ = _data_->cancellable;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_state_ = 1;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		gck_slot_open_session_async (_data_->_tmp15_, _data_->_tmp16_, _data_->_tmp17_, seahorse_pkcs11_token_load_ready, _data_);
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return FALSE;
#line 2805 "pkcs11-token.c"
		_state_1:
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp18_ = NULL;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp18_ = gck_slot_open_session_finish (_data_->_tmp15_, _data_->_res_, &_data_->_inner_error_);
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp14_ = _data_->_tmp18_;
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		if (_data_->_inner_error_ != NULL) {
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_simple_async_result_set_from_error (_data_->_async_result, _data_->_inner_error_);
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_error_free (_data_->_inner_error_);
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_g_hash_table_unref0 (_data_->checks);
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (_data_->_state_ == 0) {
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 2825 "pkcs11-token.c"
			} else {
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_simple_async_result_complete (_data_->_async_result);
#line 2829 "pkcs11-token.c"
			}
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			g_object_unref (_data_->_async_result);
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			return FALSE;
#line 2835 "pkcs11-token.c"
		}
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_object_unref0 (_data_->self->priv->_session);
#line 433 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->self->priv->_session = _data_->_tmp14_;
#line 2841 "pkcs11-token.c"
	}
#line 436 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp19_ = NULL;
#line 436 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp19_ = gck_builder_new (GCK_BUILDER_NONE);
#line 436 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->builder = _data_->_tmp19_;
#line 437 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp20_ = NULL;
#line 437 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp20_ = _data_->builder;
#line 437 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_builder_add_boolean (_data_->_tmp20_, CKA_TOKEN, TRUE);
#line 438 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp21_ = NULL;
#line 438 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp21_ = _data_->builder;
#line 438 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_builder_add_ulong (_data_->_tmp21_, CKA_CLASS, CKO_CERTIFICATE);
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp22_ = NULL;
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp22_ = _data_->self->priv->_session;
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp23_ = NULL;
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp23_ = _data_->builder;
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp24_ = NULL;
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp24_ = gck_builder_end (_data_->_tmp23_);
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp25_ = NULL;
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp25_ = gck_session_enumerate_objects (_data_->_tmp22_, _data_->_tmp24_);
#line 449 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->enumerator = _data_->_tmp25_;
#line 450 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp26_ = NULL;
#line 450 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp26_ = _data_->enumerator;
#line 450 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_enumerator_set_object_type_full (_data_->_tmp26_, SEAHORSE_PKCS11_TYPE_CERTIFICATE, CERTIFICATE_ATTRS, G_N_ELEMENTS (CERTIFICATE_ATTRS));
#line 452 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp27_ = NULL;
#line 452 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp27_ = gck_builder_new (GCK_BUILDER_NONE);
#line 452 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckBuilder_free0 (_data_->builder);
#line 452 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->builder = _data_->_tmp27_;
#line 453 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp28_ = NULL;
#line 453 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp28_ = _data_->builder;
#line 453 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_builder_add_boolean (_data_->_tmp28_, CKA_TOKEN, TRUE);
#line 454 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp29_ = NULL;
#line 454 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp29_ = _data_->builder;
#line 454 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_builder_add_ulong (_data_->_tmp29_, CKA_CLASS, CKO_PRIVATE_KEY);
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp30_ = NULL;
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp30_ = _data_->self->priv->_session;
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp31_ = NULL;
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp31_ = _data_->builder;
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp32_ = NULL;
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp32_ = gck_builder_end (_data_->_tmp31_);
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp33_ = NULL;
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp33_ = gck_session_enumerate_objects (_data_->_tmp30_, _data_->_tmp32_);
#line 465 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->chained = _data_->_tmp33_;
#line 466 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp34_ = NULL;
#line 466 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp34_ = _data_->chained;
#line 466 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_enumerator_set_object_type_full (_data_->_tmp34_, SEAHORSE_PKCS11_TYPE_PRIVATE_KEY, KEY_ATTRS, G_N_ELEMENTS (KEY_ATTRS));
#line 467 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp35_ = NULL;
#line 467 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp35_ = _data_->enumerator;
#line 467 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp36_ = NULL;
#line 467 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_data_->_tmp36_ = _data_->chained;
#line 467 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	gck_enumerator_set_chained (_data_->_tmp35_, _data_->_tmp36_);
#line 2939 "pkcs11-token.c"
	{
#line 469 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_data_->_tmp37_ = TRUE;
#line 469 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		while (TRUE) {
#line 469 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp38_ = FALSE;
#line 469 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp38_ = _data_->_tmp37_;
#line 469 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (!_data_->_tmp38_) {
#line 2951 "pkcs11-token.c"
			}
#line 469 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp37_ = FALSE;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp39_ = NULL;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp39_ = _data_->enumerator;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp40_ = NULL;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp40_ = _data_->cancellable;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_state_ = 2;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			gck_enumerator_next_async (_data_->_tmp39_, 16, _data_->_tmp40_, seahorse_pkcs11_token_load_ready, _data_);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			return FALSE;
#line 2969 "pkcs11-token.c"
			_state_2:
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp41_ = NULL;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp41_ = gck_enumerator_next_finish (_data_->_tmp39_, _data_->_res_, &_data_->_inner_error_);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->objects = _data_->_tmp41_;
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (_data_->_inner_error_ != NULL) {
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_simple_async_result_set_from_error (_data_->_async_result, _data_->_inner_error_);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_error_free (_data_->_inner_error_);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (_data_->chained);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (_data_->enumerator);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				__vala_GckBuilder_free0 (_data_->builder);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_hash_table_unref0 (_data_->checks);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (_data_->_state_ == 0) {
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 2995 "pkcs11-token.c"
				} else {
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					g_simple_async_result_complete (_data_->_async_result);
#line 2999 "pkcs11-token.c"
				}
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_object_unref (_data_->_async_result);
#line 470 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				return FALSE;
#line 3005 "pkcs11-token.c"
			}
#line 473 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp42_ = NULL;
#line 473 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp42_ = _data_->objects;
#line 473 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			if (_data_->_tmp42_ == NULL) {
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp43_ = NULL;
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp43_ = _data_->checks;
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp44_ = NULL;
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp44_ = g_hash_table_get_values (_data_->_tmp43_);
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp45_ = NULL;
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_tmp45_ = _data_->_tmp44_;
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				seahorse_pkcs11_token_remove_objects (_data_->self, _data_->_tmp45_);
#line 474 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_list_free0 (_data_->_tmp45_);
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->result = TRUE;
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				__g_list_free__g_object_unref0_0 (_data_->objects);
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (_data_->chained);
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_object_unref0 (_data_->enumerator);
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				__vala_GckBuilder_free0 (_data_->builder);
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_g_hash_table_unref0 (_data_->checks);
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				if (_data_->_state_ == 0) {
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 3045 "pkcs11-token.c"
				} else {
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					g_simple_async_result_complete (_data_->_async_result);
#line 3049 "pkcs11-token.c"
				}
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				g_object_unref (_data_->_async_result);
#line 475 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				return FALSE;
#line 3055 "pkcs11-token.c"
			}
#line 478 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp46_ = NULL;
#line 478 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp46_ = _data_->objects;
#line 478 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			seahorse_pkcs11_token_receive_objects (_data_->self, _data_->_tmp46_);
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp47_ = NULL;
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			_data_->_tmp47_ = _data_->objects;
#line 3067 "pkcs11-token.c"
			{
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				_data_->_vala1_object_collection = _data_->_tmp47_;
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
				for (_data_->_vala1_object_it = _data_->_vala1_object_collection; _data_->_vala1_object_it != NULL; _data_->_vala1_object_it = _data_->_vala1_object_it->next) {
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_data_->_tmp48_ = NULL;
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_data_->_tmp48_ = _g_object_ref0 ((GckModule*) _data_->_vala1_object_it->data);
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
					_data_->_vala1_object = _data_->_tmp48_;
#line 3079 "pkcs11-token.c"
					{
#line 482 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp49_ = NULL;
#line 482 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp49_ = _data_->_vala1_object;
#line 482 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp50_ = 0UL;
#line 482 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp50_ = gck_object_get_handle (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp49_, gck_object_get_type (), GckObject));
#line 482 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp51_ = 0UL;
#line 482 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp51_ = _data_->_tmp50_;
#line 482 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_vala1_handle = _data_->_tmp51_;
#line 483 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp52_ = NULL;
#line 483 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp52_ = _data_->checks;
#line 483 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp53_ = 0UL;
#line 483 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_data_->_tmp53_ = _data_->_vala1_handle;
#line 483 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						g_hash_table_remove (_data_->_tmp52_, &_data_->_tmp53_);
#line 481 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
						_g_object_unref0 (_data_->_vala1_object);
#line 3107 "pkcs11-token.c"
					}
				}
			}
#line 469 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
			__g_list_free__g_object_unref0_0 (_data_->objects);
#line 3113 "pkcs11-token.c"
		}
	}
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->chained);
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (_data_->enumerator);
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckBuilder_free0 (_data_->builder);
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (_data_->checks);
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_data_->_state_ == 0) {
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 3128 "pkcs11-token.c"
	} else {
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 3132 "pkcs11-token.c"
	}
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_unref (_data_->_async_result);
#line 421 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return FALSE;
#line 3138 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_get_unlockable (SeahorseLockable* base) {
	gboolean result;
	SeahorsePkcs11Token* self;
	GckTokenInfo* _tmp0_ = NULL;
	gulong _tmp1_ = 0UL;
	GckTokenInfo* _tmp2_ = NULL;
	gulong _tmp3_ = 0UL;
	GckSession* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
#line 30 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 31 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_ensure_token_info (self);
#line 32 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_info;
#line 32 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _tmp0_->flags;
#line 32 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if ((_tmp1_ & CKF_LOGIN_REQUIRED) == ((gulong) 0)) {
#line 33 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = FALSE;
#line 33 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 3165 "pkcs11-token.c"
	}
#line 34 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = self->priv->_info;
#line 34 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = _tmp2_->flags;
#line 34 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if ((_tmp3_ & CKF_USER_PIN_INITIALIZED) == ((gulong) 0)) {
#line 35 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = FALSE;
#line 35 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 3177 "pkcs11-token.c"
	}
#line 36 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = self->priv->_session;
#line 36 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = seahorse_pkcs11_token_is_session_logged_in (_tmp4_);
#line 36 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = !_tmp5_;
#line 36 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3187 "pkcs11-token.c"
}


static gboolean seahorse_pkcs11_token_real_get_lockable (SeahorseLockable* base) {
	gboolean result;
	SeahorsePkcs11Token* self;
	GckTokenInfo* _tmp0_ = NULL;
	gulong _tmp1_ = 0UL;
	GckTokenInfo* _tmp2_ = NULL;
	gulong _tmp3_ = 0UL;
	GckSession* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
#line 41 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 42 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_ensure_token_info (self);
#line 43 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_info;
#line 43 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _tmp0_->flags;
#line 43 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if ((_tmp1_ & CKF_LOGIN_REQUIRED) == ((gulong) 0)) {
#line 44 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = FALSE;
#line 44 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 3214 "pkcs11-token.c"
	}
#line 45 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = self->priv->_info;
#line 45 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = _tmp2_->flags;
#line 45 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if ((_tmp3_ & CKF_USER_PIN_INITIALIZED) == ((gulong) 0)) {
#line 46 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = FALSE;
#line 46 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 3226 "pkcs11-token.c"
	}
#line 47 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = self->priv->_session;
#line 47 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = seahorse_pkcs11_token_is_session_logged_in (_tmp4_);
#line 47 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp5_;
#line 47 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3236 "pkcs11-token.c"
}


GckTokenInfo* seahorse_pkcs11_token_get_info (SeahorsePkcs11Token* self) {
	GckTokenInfo* result;
	GckTokenInfo* _tmp0_ = NULL;
#line 52 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 52 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = seahorse_pkcs11_token_ensure_token_info (self);
#line 52 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp0_;
#line 52 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3251 "pkcs11-token.c"
}


GckSession* seahorse_pkcs11_token_get_session (SeahorsePkcs11Token* self) {
	GckSession* result;
	GckSession* _tmp0_ = NULL;
#line 56 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 56 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_session;
#line 56 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp0_;
#line 56 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3266 "pkcs11-token.c"
}


void seahorse_pkcs11_token_set_session (SeahorsePkcs11Token* self, GckSession* value) {
	GckSession* _tmp0_ = NULL;
	GckSession* _tmp1_ = NULL;
	GckSession* _tmp2_ = NULL;
#line 57 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 58 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = seahorse_pkcs11_token_get_session (self);
#line 58 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _tmp0_;
#line 58 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 58 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (self->priv->_session);
#line 58 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_session = _tmp2_;
#line 59 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_notify ((GObject*) self, "session");
#line 60 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_notify ((GObject*) self, "lockable");
#line 61 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_notify ((GObject*) self, "unlockable");
#line 57 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_notify ((GObject *) self, "session");
#line 3294 "pkcs11-token.c"
}


GckSlot* seahorse_pkcs11_token_get_slot (SeahorsePkcs11Token* self) {
	GckSlot* result;
	GckSlot* _tmp0_ = NULL;
#line 66 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 66 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_slot;
#line 66 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp0_;
#line 66 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3309 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_set_slot (SeahorsePkcs11Token* self, GckSlot* value) {
	GckSlot* _tmp0_ = NULL;
	GckSlot* _tmp1_ = NULL;
#line 67 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_if_fail (self != NULL);
#line 67 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = value;
#line 67 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 67 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (self->priv->_slot);
#line 67 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_slot = _tmp1_;
#line 67 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_notify ((GObject *) self, "slot");
#line 3328 "pkcs11-token.c"
}


static gchar* seahorse_pkcs11_token_real_get_label (SeahorsePlace* base) {
	gchar* result;
	SeahorsePkcs11Token* self;
	GckTokenInfo* token = NULL;
	GckSlot* _tmp0_ = NULL;
	GckTokenInfo* _tmp1_ = NULL;
	GckTokenInfo* _tmp2_ = NULL;
	GckTokenInfo* _tmp5_ = NULL;
	const gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
#line 71 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 72 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_slot;
#line 72 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = gck_slot_get_token_info (_tmp0_);
#line 72 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	token = _tmp1_;
#line 73 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = token;
#line 73 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp2_ == NULL) {
#line 3354 "pkcs11-token.c"
		const gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
#line 74 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp3_ = C_ ("Label", "Unknown");
#line 74 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp4_ = g_strdup (_tmp3_);
#line 74 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = _tmp4_;
#line 74 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		__vala_GckTokenInfo_free0 (token);
#line 74 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 3367 "pkcs11-token.c"
	}
#line 75 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = token;
#line 75 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp6_ = _tmp5_->label;
#line 75 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp7_ = g_strdup (_tmp6_);
#line 75 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp7_;
#line 75 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckTokenInfo_free0 (token);
#line 75 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3381 "pkcs11-token.c"
}


static gchar* seahorse_pkcs11_token_real_get_description (SeahorsePlace* base) {
	gchar* result;
	SeahorsePkcs11Token* self;
	GckTokenInfo* token = NULL;
	GckSlot* _tmp0_ = NULL;
	GckTokenInfo* _tmp1_ = NULL;
	GckTokenInfo* _tmp2_ = NULL;
	GckTokenInfo* _tmp4_ = NULL;
	const gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
#line 80 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 81 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_slot;
#line 81 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = gck_slot_get_token_info (_tmp0_);
#line 81 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	token = _tmp1_;
#line 82 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = token;
#line 82 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp2_ == NULL) {
#line 3407 "pkcs11-token.c"
		gchar* _tmp3_ = NULL;
#line 83 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp3_ = g_strdup ("");
#line 83 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = _tmp3_;
#line 83 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		__vala_GckTokenInfo_free0 (token);
#line 83 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 3417 "pkcs11-token.c"
	}
#line 84 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = token;
#line 84 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = _tmp4_->manufacturer_id;
#line 84 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp6_ = g_strdup (_tmp5_);
#line 84 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp6_;
#line 84 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckTokenInfo_free0 (token);
#line 84 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3431 "pkcs11-token.c"
}


static gchar* seahorse_pkcs11_token_real_get_uri (SeahorsePlace* base) {
	gchar* result;
	SeahorsePkcs11Token* self;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 89 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 89 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_uri;
#line 89 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 89 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp1_;
#line 89 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3450 "pkcs11-token.c"
}


static GIcon* seahorse_pkcs11_token_real_get_icon (SeahorsePlace* base) {
	GIcon* result;
	SeahorsePkcs11Token* self;
	GckTokenInfo* token = NULL;
	GckSlot* _tmp0_ = NULL;
	GckTokenInfo* _tmp1_ = NULL;
	GckTokenInfo* _tmp2_ = NULL;
	GckTokenInfo* _tmp4_ = NULL;
	GIcon* _tmp5_ = NULL;
#line 93 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 94 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_slot;
#line 94 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = gck_slot_get_token_info (_tmp0_);
#line 94 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	token = _tmp1_;
#line 95 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = token;
#line 95 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp2_ == NULL) {
#line 3475 "pkcs11-token.c"
		GThemedIcon* _tmp3_ = NULL;
#line 96 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp3_ = (GThemedIcon*) g_themed_icon_new (GTK_STOCK_DIALOG_QUESTION);
#line 96 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		result = (GIcon*) _tmp3_;
#line 96 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		__vala_GckTokenInfo_free0 (token);
#line 96 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		return result;
#line 3485 "pkcs11-token.c"
	}
#line 97 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = token;
#line 97 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = gcr_icon_for_token (_tmp4_);
#line 97 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp5_;
#line 97 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckTokenInfo_free0 (token);
#line 97 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3497 "pkcs11-token.c"
}


static GtkActionGroup* seahorse_pkcs11_token_real_get_actions (SeahorsePlace* base) {
	GtkActionGroup* result;
	SeahorsePkcs11Token* self;
#line 102 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = (SeahorsePkcs11Token*) base;
#line 102 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = NULL;
#line 102 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3510 "pkcs11-token.c"
}


SeahorseFlags seahorse_pkcs11_token_get_object_flags (SeahorsePkcs11Token* self) {
	SeahorseFlags result;
#line 106 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 106 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = 0;
#line 106 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3522 "pkcs11-token.c"
}


GArray* seahorse_pkcs11_token_get_mechanisms (SeahorsePkcs11Token* self) {
	GArray* result;
	GArray* _tmp0_ = NULL;
	GArray* _tmp3_ = NULL;
#line 110 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 111 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = self->priv->_mechanisms;
#line 111 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	if (_tmp0_ == NULL) {
#line 3536 "pkcs11-token.c"
		GckSlot* _tmp1_ = NULL;
		GArray* _tmp2_ = NULL;
#line 112 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp1_ = self->priv->_slot;
#line 112 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_tmp2_ = gck_slot_get_mechanisms (_tmp1_);
#line 112 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		_g_array_free0 (self->priv->_mechanisms);
#line 112 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		self->priv->_mechanisms = _tmp2_;
#line 3547 "pkcs11-token.c"
	}
#line 113 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = self->priv->_mechanisms;
#line 113 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	result = _tmp3_;
#line 113 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3555 "pkcs11-token.c"
}


static guint _gck_attribute_hash_ghash_func (gconstpointer key) {
	guint result;
	result = gck_attribute_hash (key);
#line 135 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3564 "pkcs11-token.c"
}


static gboolean _gck_attribute_equal_gequal_func (gconstpointer a, gconstpointer b) {
	gboolean result;
	result = gck_attribute_equal (a, b);
#line 135 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return result;
#line 3573 "pkcs11-token.c"
}


static void __vala_GckAttribute_free0_ (gpointer var) {
#line 135 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	(var == NULL) ? NULL : (var = (_vala_GckAttribute_free (var), NULL));
#line 3580 "pkcs11-token.c"
}


static void _g_ptr_array_unref0_ (gpointer var) {
#line 135 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	(var == NULL) ? NULL : (var = (g_ptr_array_unref (var), NULL));
#line 3587 "pkcs11-token.c"
}


static void _vala_GckUriData_free (GckUriData* self) {
#line 133 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_boxed_free (gck_uri_data_get_type (), self);
#line 3594 "pkcs11-token.c"
}


static GObject * seahorse_pkcs11_token_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	SeahorsePkcs11Token * self;
	GHashFunc _tmp0_ = NULL;
	GEqualFunc _tmp1_ = NULL;
	GHashTable* _tmp2_ = NULL;
	GHashTable* _tmp3_ = NULL;
	GHashFunc _tmp4_ = NULL;
	GEqualFunc _tmp5_ = NULL;
	GHashTable* _tmp6_ = NULL;
	GHashFunc _tmp7_ = NULL;
	GEqualFunc _tmp8_ = NULL;
	GHashTable* _tmp9_ = NULL;
	GckUriData* data = NULL;
	GckUriData* _tmp10_ = NULL;
	GckUriData* _tmp11_ = NULL;
	GckTokenInfo* _tmp12_ = NULL;
	GckTokenInfo* _tmp13_ = NULL;
	GckUriData* _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
#line 133 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	parent_class = G_OBJECT_CLASS (seahorse_pkcs11_token_parent_class);
#line 133 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 133 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SEAHORSE_PKCS11_TYPE_TOKEN, SeahorsePkcs11Token);
#line 134 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp0_ = seahorse_ulong_hash;
#line 134 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp1_ = seahorse_ulong_equal;
#line 134 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp2_ = g_hash_table_new_full (_tmp0_, _tmp1_, _g_free0_, _g_object_unref0_);
#line 134 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_object_for_handle);
#line 134 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_object_for_handle = _tmp2_;
#line 135 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp3_ = g_hash_table_new_full (_gck_attribute_hash_ghash_func, _gck_attribute_equal_gequal_func, __vala_GckAttribute_free0_, _g_ptr_array_unref0_);
#line 135 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_objects_for_id);
#line 135 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_objects_for_id = _tmp3_;
#line 136 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp4_ = g_direct_hash;
#line 136 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp5_ = g_direct_equal;
#line 136 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp6_ = g_hash_table_new_full (_tmp4_, _tmp5_, _g_object_unref0_, NULL);
#line 136 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_id_for_object);
#line 136 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_id_for_object = _tmp6_;
#line 137 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp7_ = g_direct_hash;
#line 137 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp8_ = g_direct_equal;
#line 137 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp9_ = g_hash_table_new_full (_tmp7_, _tmp8_, _g_object_unref0_, _g_object_unref0_);
#line 137 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_objects_visible);
#line 137 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_objects_visible = _tmp9_;
#line 140 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_place_load ((SeahorsePlace*) self, NULL, NULL, NULL);
#line 142 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp10_ = gck_uri_data_new ();
#line 142 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	data = _tmp10_;
#line 143 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_ensure_token_info (self);
#line 144 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp11_ = data;
#line 144 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp12_ = self->priv->_info;
#line 144 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp13_ = __vala_GckTokenInfo_copy0 (_tmp12_);
#line 144 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckTokenInfo_free0 (_tmp11_->token_info);
#line 144 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp11_->token_info = _tmp13_;
#line 145 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp14_ = data;
#line 145 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_tmp15_ = gck_uri_build (_tmp14_, GCK_URI_FOR_TOKEN);
#line 145 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_free0 (self->priv->_uri);
#line 145 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv->_uri = _tmp15_;
#line 133 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckUriData_free0 (data);
#line 133 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	return obj;
#line 3691 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_class_init (SeahorsePkcs11TokenClass * klass) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_parent_class = g_type_class_peek_parent (klass);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_type_class_add_private (klass, sizeof (SeahorsePkcs11TokenPrivate));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	G_OBJECT_CLASS (klass)->dispose = seahorse_pkcs11_token_real_dispose;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_seahorse_pkcs11_token_get_property;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_seahorse_pkcs11_token_set_property;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	G_OBJECT_CLASS (klass)->constructor = seahorse_pkcs11_token_constructor;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	G_OBJECT_CLASS (klass)->finalize = seahorse_pkcs11_token_finalize;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_UNLOCKABLE, g_param_spec_boolean ("unlockable", "unlockable", "unlockable", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_LOCKABLE, g_param_spec_boolean ("lockable", "lockable", "lockable", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_INFO, g_param_spec_boxed ("info", "info", "info", gck_token_info_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_SESSION, g_param_spec_object ("session", "session", "session", gck_session_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_SLOT, g_param_spec_object ("slot", "slot", "slot", gck_slot_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_LABEL, g_param_spec_string ("label", "label", "label", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_DESCRIPTION, g_param_spec_string ("description", "description", "description", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_URI, g_param_spec_string ("uri", "uri", "uri", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_ICON, g_param_spec_object ("icon", "icon", "icon", G_TYPE_ICON, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_ACTIONS, g_param_spec_object ("actions", "actions", "actions", GTK_TYPE_ACTION_GROUP, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_OBJECT_FLAGS, g_param_spec_flags ("object-flags", "object-flags", "object-flags", SEAHORSE_TYPE_FLAGS, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SEAHORSE_PKCS11_TOKEN_MECHANISMS, g_param_spec_pointer ("mechanisms", "mechanisms", "mechanisms", G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 3734 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_gcr_collection_interface_init (GcrCollectionIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_gcr_collection_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->contains = (gboolean (*)(GcrCollection*, GObject*)) seahorse_pkcs11_token_real_contains;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_length = (guint (*)(GcrCollection*)) seahorse_pkcs11_token_real_get_length;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_objects = (GList* (*)(GcrCollection*)) seahorse_pkcs11_token_real_get_objects;
#line 3747 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_seahorse_place_interface_init (SeahorsePlaceIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_seahorse_place_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->load = (gboolean (*)(SeahorsePlace*, GCancellable*, GError**)) seahorse_pkcs11_token_real_load;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->load_finish = seahorse_pkcs11_token_real_load_finish;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_label = seahorse_pkcs11_token_real_get_label;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_description = seahorse_pkcs11_token_real_get_description;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_uri = seahorse_pkcs11_token_real_get_uri;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_icon = seahorse_pkcs11_token_real_get_icon;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_actions = seahorse_pkcs11_token_real_get_actions;
#line 3768 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_seahorse_lockable_interface_init (SeahorseLockableIface * iface) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	seahorse_pkcs11_token_seahorse_lockable_parent_iface = g_type_interface_peek_parent (iface);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->lock = (gboolean (*)(SeahorseLockable*, GTlsInteraction*, GCancellable*, GError**)) seahorse_pkcs11_token_real_lock;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->lock_finish = seahorse_pkcs11_token_real_lock_finish;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->unlock = (gboolean (*)(SeahorseLockable*, GTlsInteraction*, GCancellable*, GError**)) seahorse_pkcs11_token_real_unlock;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->unlock_finish = seahorse_pkcs11_token_real_unlock_finish;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_unlockable = seahorse_pkcs11_token_real_get_unlockable;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	iface->get_lockable = seahorse_pkcs11_token_real_get_lockable;
#line 3787 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_instance_init (SeahorsePkcs11Token * self) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self->priv = SEAHORSE_PKCS11_TOKEN_GET_PRIVATE (self);
#line 3794 "pkcs11-token.c"
}


static void seahorse_pkcs11_token_finalize (GObject* obj) {
	SeahorsePkcs11Token * self;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SEAHORSE_PKCS11_TYPE_TOKEN, SeahorsePkcs11Token);
#line 117 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (self->priv->_slot);
#line 118 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_free0 (self->priv->_uri);
#line 119 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	__vala_GckTokenInfo_free0 (self->priv->_info);
#line 120 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_array_free0 (self->priv->_mechanisms);
#line 121 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_object_unref0 (self->priv->_session);
#line 122 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_object_for_handle);
#line 123 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_objects_for_id);
#line 124 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_id_for_object);
#line 125 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	_g_hash_table_unref0 (self->priv->_objects_visible);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	G_OBJECT_CLASS (seahorse_pkcs11_token_parent_class)->finalize (obj);
#line 3822 "pkcs11-token.c"
}


GType seahorse_pkcs11_token_get_type (void) {
	static volatile gsize seahorse_pkcs11_token_type_id__volatile = 0;
	if (g_once_init_enter (&seahorse_pkcs11_token_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SeahorsePkcs11TokenClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) seahorse_pkcs11_token_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SeahorsePkcs11Token), 0, (GInstanceInitFunc) seahorse_pkcs11_token_instance_init, NULL };
		static const GInterfaceInfo gcr_collection_info = { (GInterfaceInitFunc) seahorse_pkcs11_token_gcr_collection_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo seahorse_place_info = { (GInterfaceInitFunc) seahorse_pkcs11_token_seahorse_place_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo seahorse_lockable_info = { (GInterfaceInitFunc) seahorse_pkcs11_token_seahorse_lockable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType seahorse_pkcs11_token_type_id;
		seahorse_pkcs11_token_type_id = g_type_register_static (G_TYPE_OBJECT, "SeahorsePkcs11Token", &g_define_type_info, 0);
		g_type_add_interface_static (seahorse_pkcs11_token_type_id, gcr_collection_get_type (), &gcr_collection_info);
		g_type_add_interface_static (seahorse_pkcs11_token_type_id, SEAHORSE_TYPE_PLACE, &seahorse_place_info);
		g_type_add_interface_static (seahorse_pkcs11_token_type_id, SEAHORSE_TYPE_LOCKABLE, &seahorse_lockable_info);
		g_once_init_leave (&seahorse_pkcs11_token_type_id__volatile, seahorse_pkcs11_token_type_id);
	}
	return seahorse_pkcs11_token_type_id__volatile;
}


static void _vala_seahorse_pkcs11_token_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	SeahorsePkcs11Token * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SEAHORSE_PKCS11_TYPE_TOKEN, SeahorsePkcs11Token);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	switch (property_id) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_UNLOCKABLE:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_set_boolean (value, seahorse_lockable_get_unlockable ((SeahorseLockable*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_LOCKABLE:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_set_boolean (value, seahorse_lockable_get_lockable ((SeahorseLockable*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_INFO:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_set_boxed (value, seahorse_pkcs11_token_get_info (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_SESSION:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_set_object (value, seahorse_pkcs11_token_get_session (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_SLOT:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_set_object (value, seahorse_pkcs11_token_get_slot (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_LABEL:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_take_string (value, seahorse_place_get_label ((SeahorsePlace*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_DESCRIPTION:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_take_string (value, seahorse_place_get_description ((SeahorsePlace*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_URI:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_take_string (value, seahorse_place_get_uri ((SeahorsePlace*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_ICON:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_take_object (value, seahorse_place_get_icon ((SeahorsePlace*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_ACTIONS:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_take_object (value, seahorse_place_get_actions ((SeahorsePlace*) self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_OBJECT_FLAGS:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_set_flags (value, seahorse_pkcs11_token_get_object_flags (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_MECHANISMS:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		g_value_set_pointer (value, seahorse_pkcs11_token_get_mechanisms (self));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 3921 "pkcs11-token.c"
		default:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 3927 "pkcs11-token.c"
	}
}


static void _vala_seahorse_pkcs11_token_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	SeahorsePkcs11Token * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SEAHORSE_PKCS11_TYPE_TOKEN, SeahorsePkcs11Token);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
	switch (property_id) {
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_SESSION:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		seahorse_pkcs11_token_set_session (self, g_value_get_object (value));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		case SEAHORSE_PKCS11_TOKEN_SLOT:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		seahorse_pkcs11_token_set_slot (self, g_value_get_object (value));
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 3949 "pkcs11-token.c"
		default:
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 27 "/data/src/seahorse/pkcs11/pkcs11-token.vala"
		break;
#line 3955 "pkcs11-token.c"
	}
}



